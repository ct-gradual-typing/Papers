\documentclass{article}[12pt]

\usepackage{amssymb,amsmath, amsthm}
\usepackage[barr]{xy}

\begin{document}

\let\mto\to                     % Used for arrows
\let\to\relax
\newcommand{\to}{\rightarrow}
\newcommand{\cat}[1]{\mathcal{#1}}

\newcommand{\id}[0]{\mathsf{id}}
\newcommand{\st}[0]{\mathsf{st}}
\newcommand{\triv}[0]{\mathsf{triv}}

\title{Proving error properties in the Kleisli category}

\author{Richard Blair}

\maketitle

\section{Definitions}
Let $\cat{C}$ be a cartesian closed category with all finite coproducts.
Then $\cat{C}$ is a monoidal category with associator
\begin{center}
  \begin{math}
    \alpha_{A,B,C} : A \times (B \times C) \mto (A \times B) \times C = \langle \langle \pi_1 , \pi_2 ; \pi_1 \rangle , \pi_2 ; \pi_2 \rangle
  \end{math}
\end{center}
and unitors
\begin{center}
  \begin{math}
  \begin{array}{rll}
    r_A : 1 \times A \mto A & = & \pi_2 \\
    l_A : A \times 1 \mto A & = & \pi_1
  \end{array}
  \end{math}
\end{center}

\begin{theorem}
  The maybe monad is a strong monad with strength $\st_{A,B} : A \times (B + 1) \mto (A \times B) + 1 = \dist_{A,B,1};\id_{A \times B} \times (\triv_A \times id_1);\id_{A \times B} \times triv_{1 \times 1}$.
\end{theorem}

\section{Strong monad diagrams, specialized to maybe monad}

  \begin{center}
    \begin{math}
      \bfig
      \scalefactor{2.0}
      \qtriangle[1 \times (A+1)`TA`(1 \times A) + 1;r_A`t_{1,A}`r_{A} + \id_1]
      \efig
    \end{math}
  \end{center}
  \begin{center}
    \begin{math}
      \bfig
      \scalefactor{2.5}
      \node topleft(0,500)[(A \times B) \times (C+1)]
      \node topright(1000,500)[((A \times B) \times C) + 1]
      \node botleft(0,0)[A \times (B \times (C + 1))]
      \node botmid(500,0)[A \times ((B \times C) + 1)]
      \node botright(1000,0)[(A \times (B \times C)) + 1]
      \arrow[topleft`topright;\st_{A \times B, C}]
      \arrow[topright`botright;\alpha_{A,B,C} + \id_1]
      \arrow[topleft`botleft;\alpha{A,B,C+1}]
      \arrow[botleft`botmid; \id_A \times \st_{B, C}]
      \arrow[botmid`botright;\st_{A, B \times C}]
      \efig
    \end{math}
  \end{center}
  \begin{center}
    \begin{math}
      \bfig
      \scalefactor{2.5}%
      \node AxB(0,700)[A \times B]%
      \node AxTB(0,350)[A \times (B + 1)]%
      \node AxT2B(0,0)[A \times ((B + 1) + 1)]%
      \node TAxB(500,350)[(A \times B) + 1]%
      \node TAxTB(500,0)[(A \times (B + 1)) + 1]%
      \node T2AxB(1000,0)[((A \times B) + 1) + 1]%
      \arrow[AxB`AxTB;\id_A \times \eta_B]%
      \arrow[AxT2B`AxTB;\id_A \times \mu_B]%
      \arrow[AxB`TAxB;\eta_{A \times B}]%
      \arrow[AxTB`TAxB;\st_{A,B}]%
      \arrow[AxT2B`TAxTB;\st_{A, B + 1}]%
      \arrow[TAxTB`T2AxB;\st_{A,B} + \id_1]%
      \arrow[T2AxB`TAxB;\mu_{A \times B}]%
      \efig
    \end{math}
  \end{center}

  \section{Expanded versions}
    \begin{center}
    \begin{math}
      \bfig
      \scalefactor{2.0}
      \qtriangle[1 \times (A+1)`A + 1`(1 \times A) + 1;\pi_2`\st_{1,A}`\langle \triv_A , \id_A \rangle + \id_1]
      \efig
    \end{math}
  \end{center}
\end{document}

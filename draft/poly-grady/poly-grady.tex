% generated by Ott 0.25 from: poly-grady.ott
\documentclass[11pt]{article}
\usepackage{amsmath,amssymb}
\usepackage{supertabular}
\usepackage{geometry}
\usepackage{ifthen}
\usepackage{alltt}%hack
\geometry{a4paper,dvips,twoside,left=22.5mm,right=22.5mm,top=20mm,bottom=30mm}
\usepackage{color}
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \ottmv{termvar} ,\, \ottmv{x} ,\, \ottmv{y} ,\, \ottmv{z} ,\, \ottmv{f} $ &  \\
 $ \ottmv{typevar} ,\, \ottmv{X} ,\, \ottmv{Y} ,\, \ottmv{Z} $ &  \\
 $ \ottmv{index} ,\, \ottmv{i} ,\, \ottmv{j} ,\, \ottmv{k} $ &  \\
}}

\newcommand{\ottt}{
\ottrulehead{\ottnt{t}  ,\ \ottnt{c}  ,\ \ottnt{v}  ,\ \ottnt{s}  ,\ \ottnt{n}}{::=}{\ottcom{term}}\ottprodnewline
\ottfirstprodline{|}{\ottmv{x}}{}{}{}{\ottcom{variable}}\ottprodnewline
\ottprodline{|}{ \mathsf{triv} }{}{}{}{\ottcom{unit}}\ottprodnewline
\ottprodline{|}{ \mathsf{squash}_{ \ottnt{S} } }{}{}{}{\ottcom{injection of the retract}}\ottprodnewline
\ottprodline{|}{ \mathsf{split}_{ \ottnt{S} } }{}{}{}{\ottcom{surjection of the retract}}\ottprodnewline
\ottprodline{|}{ \mathsf{box}_{ \ottnt{C} } }{}{}{}{\ottcom{generalize to the untyped universe}}\ottprodnewline
\ottprodline{|}{ \mathsf{unbox}_{ \ottnt{C} } }{}{}{}{\ottcom{specialize the untyped universe to a specific type}}\ottprodnewline
\ottprodline{|}{ \Lambda  \ottmv{X} . \ottnt{t} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ [  \ottnt{A}  ]  \ottnt{t} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \langle  \ottnt{A}  \rangle  \ottnt{t} }{}{}{}{\ottcom{type cast}}\ottprodnewline
\ottprodline{|}{ \lambda  \ottmv{x}  :  \ottnt{A}  .  \ottnt{t} }{}{}{}{\ottcom{$\lambda$-abstraction}}\ottprodnewline
\ottprodline{|}{\ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}}{}{}{}{\ottcom{function application}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}}{}{}{}{\ottcom{pair constructor}}\ottprodnewline
\ottprodline{|}{\mathsf{fst} \, \ottnt{t}}{}{}{}{\ottcom{first projection}}\ottprodnewline
\ottprodline{|}{\mathsf{snd} \, \ottnt{t}}{}{}{}{\ottcom{second projection}}\ottprodnewline
\ottprodline{|}{\mathsf{succ} \, \ottnt{t}}{}{}{}{\ottcom{successor function}}\ottprodnewline
\ottprodline{|}{\ottsym{0}}{}{}{}{\ottcom{zero}}\ottprodnewline
\ottprodline{|}{ \mathsf{case}\, \ottnt{t} \,\mathsf{of}\, \ottnt{t_{{\mathrm{1}}}}  \mid\mid  \ottmv{x} . \ottnt{t_{{\mathrm{2}}}} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{t}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\otth}{
\ottrulehead{\ottnt{h}}{::=}{\ottcom{head-normal forms}}\ottprodnewline
\ottfirstprodline{|}{ \mathsf{triv} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{split}_{ \ottnt{S} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{squash}_{ \ottnt{S} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{box}_{ \ottnt{C} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{unbox}_{ \ottnt{C} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \lambda  \ottmv{x}  :  \ottnt{A}  .  \ottnt{t} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathsf{fst} \, \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathsf{snd} \, \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\mathsf{succ} \, \ottnt{t}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottsym{0}}{}{}{}{}}

\newcommand{\ottT}{
\ottrulehead{\ottnt{T}}{::=}{\ottcom{terminating types}}\ottprodnewline
\ottfirstprodline{|}{ \mathsf{Unit} }{}{}{}{\ottcom{unit type}}\ottprodnewline
\ottprodline{|}{ \mathsf{Nat} }{}{}{}{\ottcom{natural number type}}\ottprodnewline
\ottprodline{|}{\ottnt{T_{{\mathrm{1}}}}  \rightarrow  \ottnt{T_{{\mathrm{2}}}}}{}{}{}{\ottcom{function type}}\ottprodnewline
\ottprodline{|}{ \ottnt{T_{{\mathrm{1}}}}  \times  \ottnt{T_{{\mathrm{2}}}} }{}{}{}{\ottcom{cartesian product type}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{T}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottK}{
\ottrulehead{\ottnt{K}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \star }{}{}{}{}}

\newcommand{\ottA}{
\ottrulehead{\ottnt{A}  ,\ \ottnt{B}  ,\ \ottnt{C}  ,\ \ottnt{D}  ,\ \ottnt{E}  ,\ \ottnt{S}  ,\ \ottnt{U}}{::=}{\ottcom{type}}\ottprodnewline
\ottfirstprodline{|}{\ottmv{X}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \forall  \ottmv{X}  .  \ottnt{A} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{Unit} }{}{}{}{\ottcom{unit type}}\ottprodnewline
\ottprodline{|}{ 1 }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mathsf{Nat} }{}{}{}{\ottcom{natural number type}}\ottprodnewline
\ottprodline{|}{\ottsym{\mbox{?}}}{}{}{}{\ottcom{untyped universe}}\ottprodnewline
\ottprodline{|}{\ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}}{}{}{}{\ottcom{function type}}\ottprodnewline
\ottprodline{|}{ \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}} }{}{}{}{\ottcom{cartesian product type}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \ottnt{A}  \ottsym{)}} {\textsf{S}}{}{}{}}

\newcommand{\ottG}{
\ottrulehead{\Gamma}{::=}{\ottcom{typing context}}\ottprodnewline
\ottfirstprodline{|}{ \cdot }{}{}{}{\ottcom{empty context}}\ottprodnewline
\ottprodline{|}{ \Gamma , \ottmv{X} :\star }{}{}{}{}\ottprodnewline
\ottprodline{|}{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}}{}{}{}{\ottcom{cons}}}

\newcommand{\ottvd}{
\ottrulehead{\ottnt{vd}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\vdash}{}{}{}{}\ottprodnewline
\ottprodline{|}{\not \vdash}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\ottt\ottinterrule
\otth\ottinterrule
\ottT\ottinterrule
\ottK\ottinterrule
\ottA\ottinterrule
\ottG\ottinterrule
\ottvd\ottafterlastrule
}}

% defnss
% defns Typing
%% defn kind
\newcommand{\ottdruleKXXvarName}[0]{\ottdrulename{K\_var}}
\newcommand{\ottdruleKXXvar}[1]{\ottdrule[#1]{%
\ottpremise{ \ottmv{X}  : \star \in  \Gamma }%
}{
 \Gamma  \vdash  \ottmv{X}  : \star }{%
{\ottdruleKXXvarName}{}%
}}


\newcommand{\ottdruleKXXunitName}[0]{\ottdrulename{K\_unit}}
\newcommand{\ottdruleKXXunit}[1]{\ottdrule[#1]{%
}{
 \Gamma  \vdash   \mathsf{Unit}   : \star }{%
{\ottdruleKXXunitName}{}%
}}


\newcommand{\ottdruleKXXnatName}[0]{\ottdrulename{K\_nat}}
\newcommand{\ottdruleKXXnat}[1]{\ottdrule[#1]{%
}{
 \Gamma  \vdash   \mathsf{Nat}   : \star }{%
{\ottdruleKXXnatName}{}%
}}


\newcommand{\ottdruleKXXunitypeName}[0]{\ottdrulename{K\_unitype}}
\newcommand{\ottdruleKXXunitype}[1]{\ottdrule[#1]{%
}{
 \Gamma  \vdash  \ottsym{\mbox{?}}  : \star }{%
{\ottdruleKXXunitypeName}{}%
}}


\newcommand{\ottdruleKXXarrowName}[0]{\ottdrulename{K\_arrow}}
\newcommand{\ottdruleKXXarrow}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma  \vdash  \ottnt{A}  : \star   \quad   \Gamma  \vdash  \ottnt{B}  : \star  }%
}{
 \Gamma  \vdash  \ottnt{A}  \rightarrow  \ottnt{B}  : \star }{%
{\ottdruleKXXarrowName}{}%
}}


\newcommand{\ottdruleKXXprodName}[0]{\ottdrulename{K\_prod}}
\newcommand{\ottdruleKXXprod}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma  \vdash  \ottnt{A}  : \star   \quad   \Gamma  \vdash  \ottnt{B}  : \star  }%
}{
 \Gamma  \vdash   \ottnt{A}  \times  \ottnt{B}   : \star }{%
{\ottdruleKXXprodName}{}%
}}


\newcommand{\ottdruleKXXforallName}[0]{\ottdrulename{K\_forall}}
\newcommand{\ottdruleKXXforall}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma , \ottmv{X} :\star   \vdash  \ottnt{A}  : \star }%
}{
 \Gamma  \vdash   \forall  \ottmv{X}  .  \ottnt{A}   : \star }{%
{\ottdruleKXXforallName}{}%
}}

\newcommand{\ottdefnkind}[1]{\begin{ottdefnblock}[#1]{$ \Gamma  \vdash  \ottnt{A}  : \star $}{}
\ottusedrule{\ottdruleKXXvar{}}
\ottusedrule{\ottdruleKXXunit{}}
\ottusedrule{\ottdruleKXXnat{}}
\ottusedrule{\ottdruleKXXunitype{}}
\ottusedrule{\ottdruleKXXarrow{}}
\ottusedrule{\ottdruleKXXprod{}}
\ottusedrule{\ottdruleKXXforall{}}
\end{ottdefnblock}}

%% defn ctxOk
\newcommand{\ottdruleOkXXemptyName}[0]{\ottdrulename{Ok\_empty}}
\newcommand{\ottdruleOkXXempty}[1]{\ottdrule[#1]{%
}{
  \cdot  \,\text{Ok} }{%
{\ottdruleOkXXemptyName}{}%
}}


\newcommand{\ottdruleOkXXtypeVarName}[0]{\ottdrulename{Ok\_typeVar}}
\newcommand{\ottdruleOkXXtypeVar}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma \,\text{Ok} }%
}{
 \ottsym{(}   \Gamma , \ottmv{X} :\star   \ottsym{)} \,\text{Ok} }{%
{\ottdruleOkXXtypeVarName}{}%
}}


\newcommand{\ottdruleOkXXvarName}[0]{\ottdrulename{Ok\_var}}
\newcommand{\ottdruleOkXXvar}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma \,\text{Ok}   \quad   \Gamma  \vdash  \ottnt{A}  : \star  }%
}{
 \ottsym{(}  \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}  \ottsym{)} \,\text{Ok} }{%
{\ottdruleOkXXvarName}{}%
}}

\newcommand{\ottdefnctxOk}[1]{\begin{ottdefnblock}[#1]{$ \Gamma \,\text{Ok} $}{}
\ottusedrule{\ottdruleOkXXempty{}}
\ottusedrule{\ottdruleOkXXtypeVar{}}
\ottusedrule{\ottdruleOkXXvar{}}
\end{ottdefnblock}}

%% defn typeConsis
\newcommand{\ottdrulereflName}[0]{\ottdrulename{refl}}
\newcommand{\ottdrulerefl}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \sim  \ottnt{A} }{%
{\ottdrulereflName}{}%
}}


\newcommand{\ottdruleboxName}[0]{\ottdrulename{box}}
\newcommand{\ottdrulebox}[1]{\ottdrule[#1]{%
}{
 \ottnt{A}  \sim  \ottsym{\mbox{?}} }{%
{\ottdruleboxName}{}%
}}


\newcommand{\ottdruleunboxName}[0]{\ottdrulename{unbox}}
\newcommand{\ottdruleunbox}[1]{\ottdrule[#1]{%
}{
 \ottsym{\mbox{?}}  \sim  \ottnt{A} }{%
{\ottdruleunboxName}{}%
}}


\newcommand{\ottdrulearrowName}[0]{\ottdrulename{arrow}}
\newcommand{\ottdrulearrow}[1]{\ottdrule[#1]{%
\ottpremise{  \ottnt{A_{{\mathrm{1}}}}  \sim  \ottnt{A_{{\mathrm{2}}}}   \quad   \ottnt{B_{{\mathrm{1}}}}  \sim  \ottnt{B_{{\mathrm{2}}}}  }%
}{
 \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{B_{{\mathrm{1}}}}  \sim  \ottnt{A_{{\mathrm{2}}}}  \rightarrow  \ottnt{B_{{\mathrm{2}}}} }{%
{\ottdrulearrowName}{}%
}}


\newcommand{\ottdruleprodName}[0]{\ottdrulename{prod}}
\newcommand{\ottdruleprod}[1]{\ottdrule[#1]{%
\ottpremise{  \ottnt{A_{{\mathrm{1}}}}  \sim  \ottnt{A_{{\mathrm{2}}}}   \quad   \ottnt{B_{{\mathrm{1}}}}  \sim  \ottnt{B_{{\mathrm{2}}}}  }%
}{
  \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{B_{{\mathrm{1}}}}   \sim   \ottnt{A_{{\mathrm{2}}}}  \times  \ottnt{B_{{\mathrm{2}}}}  }{%
{\ottdruleprodName}{}%
}}

\newcommand{\ottdefntypeConsis}[1]{\begin{ottdefnblock}[#1]{$ \ottnt{A}  \sim  \ottnt{B} $}{\ottcom{$\ottnt{A}$ is consistent with $\ottnt{B}$}}
\ottusedrule{\ottdrulerefl{}}
\ottusedrule{\ottdrulebox{}}
\ottusedrule{\ottdruleunbox{}}
\ottusedrule{\ottdrulearrow{}}
\ottusedrule{\ottdruleprod{}}
\end{ottdefnblock}}

%% defn type
\newcommand{\ottdrulevarName}[0]{\ottdrulename{var}}
\newcommand{\ottdrulevar}[1]{\ottdrule[#1]{%
\ottpremise{\ottmv{x}  \ottsym{:}  \ottnt{A} \, \in \, \Gamma}%
}{
 \Gamma   \vdash   \ottmv{x}  :  \ottnt{A} }{%
{\ottdrulevarName}{}%
}}


\newcommand{\ottdrulevarPName}[0]{\ottdrulename{varP}}
\newcommand{\ottdrulevarP}[1]{\ottdrule[#1]{%
\ottpremise{ \ottmv{x}  \ottsym{:}  \ottnt{A} \, \in \, \Gamma  \quad   \Gamma \,\text{Ok}  }%
}{
 \Gamma   \vdash   \ottmv{x}  :  \ottnt{A} }{%
{\ottdrulevarPName}{}%
}}


\newcommand{\ottdruleBoxName}[0]{\ottdrulename{Box}}
\newcommand{\ottdruleBox}[1]{\ottdrule[#1]{%
}{
 \Gamma   \vdash    \mathsf{box}_{ \ottnt{C} }   :  \ottnt{C}  \rightarrow  \ottsym{\mbox{?}} }{%
{\ottdruleBoxName}{}%
}}


\newcommand{\ottdruleBoxPName}[0]{\ottdrulename{BoxP}}
\newcommand{\ottdruleBoxP}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma \,\text{Ok} }%
}{
 \Gamma   \vdash    \mathsf{box}_{ \ottnt{C} }   :  \ottnt{C}  \rightarrow  \ottsym{\mbox{?}} }{%
{\ottdruleBoxPName}{}%
}}


\newcommand{\ottdruleUnboxName}[0]{\ottdrulename{Unbox}}
\newcommand{\ottdruleUnbox}[1]{\ottdrule[#1]{%
}{
 \Gamma   \vdash    \mathsf{unbox}_{ \ottnt{C} }   :  \ottsym{\mbox{?}}  \rightarrow  \ottnt{C} }{%
{\ottdruleUnboxName}{}%
}}


\newcommand{\ottdruleUnboxPName}[0]{\ottdrulename{UnboxP}}
\newcommand{\ottdruleUnboxP}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma \,\text{Ok} }%
}{
 \Gamma   \vdash    \mathsf{unbox}_{ \ottnt{C} }   :  \ottsym{\mbox{?}}  \rightarrow  \ottnt{C} }{%
{\ottdruleUnboxPName}{}%
}}


\newcommand{\ottdruleBoxGName}[0]{\ottdrulename{BoxG}}
\newcommand{\ottdruleBoxG}[1]{\ottdrule[#1]{%
}{
 \Gamma   \vdash    \mathsf{Box}_{ \ottnt{A} }   :  \ottnt{A}  \rightarrow  \ottsym{\mbox{?}} }{%
{\ottdruleBoxGName}{}%
}}


\newcommand{\ottdruleUnboxGName}[0]{\ottdrulename{UnboxG}}
\newcommand{\ottdruleUnboxG}[1]{\ottdrule[#1]{%
}{
 \Gamma   \vdash    \mathsf{Unbox}_{ \ottnt{A} }   :  \ottsym{\mbox{?}}  \rightarrow  \ottnt{A} }{%
{\ottdruleUnboxGName}{}%
}}


\newcommand{\ottdrulesquashName}[0]{\ottdrulename{squash}}
\newcommand{\ottdrulesquash}[1]{\ottdrule[#1]{%
}{
 \Gamma   \vdash    \mathsf{squash}_{ \ottnt{U} }   :  \ottnt{U}  \rightarrow  \ottsym{\mbox{?}} }{%
{\ottdrulesquashName}{}%
}}


\newcommand{\ottdrulesquashPName}[0]{\ottdrulename{squashP}}
\newcommand{\ottdrulesquashP}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma \,\text{Ok} }%
}{
 \Gamma   \vdash    \mathsf{squash}_{ \ottnt{U} }   :  \ottnt{U}  \rightarrow  \ottsym{\mbox{?}} }{%
{\ottdrulesquashPName}{}%
}}


\newcommand{\ottdrulesplitName}[0]{\ottdrulename{split}}
\newcommand{\ottdrulesplit}[1]{\ottdrule[#1]{%
}{
 \Gamma   \vdash    \mathsf{split}_{ \ottnt{U} }   :  \ottsym{\mbox{?}}  \rightarrow  \ottnt{U} }{%
{\ottdrulesplitName}{}%
}}


\newcommand{\ottdrulesplitPName}[0]{\ottdrulename{splitP}}
\newcommand{\ottdrulesplitP}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma \,\text{Ok} }%
}{
 \Gamma   \vdash    \mathsf{split}_{ \ottnt{U} }   :  \ottsym{\mbox{?}}  \rightarrow  \ottnt{U} }{%
{\ottdrulesplitPName}{}%
}}


\newcommand{\ottdruleunitName}[0]{\ottdrulename{unit}}
\newcommand{\ottdruleunit}[1]{\ottdrule[#1]{%
}{
 \Gamma   \vdash    \mathsf{triv}   :   \mathsf{Unit}  }{%
{\ottdruleunitName}{}%
}}


\newcommand{\ottdruleunitPName}[0]{\ottdrulename{unitP}}
\newcommand{\ottdruleunitP}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma \,\text{Ok} }%
}{
 \Gamma   \vdash    \mathsf{triv}   :   \mathsf{Unit}  }{%
{\ottdruleunitPName}{}%
}}


\newcommand{\ottdrulezeroName}[0]{\ottdrulename{zero}}
\newcommand{\ottdrulezero}[1]{\ottdrule[#1]{%
}{
 \Gamma   \vdash   \ottsym{0}  :   \mathsf{Nat}  }{%
{\ottdrulezeroName}{}%
}}


\newcommand{\ottdrulezeroPName}[0]{\ottdrulename{zeroP}}
\newcommand{\ottdrulezeroP}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma \,\text{Ok} }%
}{
 \Gamma   \vdash   \ottsym{0}  :   \mathsf{Nat}  }{%
{\ottdrulezeroPName}{}%
}}


\newcommand{\ottdrulesuccName}[0]{\ottdrulename{succ}}
\newcommand{\ottdrulesucc}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :   \mathsf{Nat}  }%
}{
 \Gamma   \vdash   \mathsf{succ} \, \ottnt{t}  :   \mathsf{Nat}  }{%
{\ottdrulesuccName}{}%
}}


\newcommand{\ottdrulecaseName}[0]{\ottdrulename{case}}
\newcommand{\ottdrulecase}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :   \mathsf{Nat}  }%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A}   \quad   \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}   \mathsf{Nat}    \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A}  }%
}{
 \Gamma   \vdash    \mathsf{case}\, \ottnt{t} \,\mathsf{of}\, \ottnt{t_{{\mathrm{1}}}}  \mid\mid  \ottmv{x} . \ottnt{t_{{\mathrm{2}}}}   :  \ottnt{A} }{%
{\ottdrulecaseName}{}%
}}


\newcommand{\ottdrulepairName}[0]{\ottdrulename{pair}}
\newcommand{\ottdrulepair}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A_{{\mathrm{1}}}}   \quad   \Gamma   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A_{{\mathrm{2}}}}  }%
}{
 \Gamma   \vdash   \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  :   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}}  }{%
{\ottdrulepairName}{}%
}}


\newcommand{\ottdrulefstName}[0]{\ottdrulename{fst}}
\newcommand{\ottdrulefst}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}}  }%
}{
 \Gamma   \vdash   \mathsf{fst} \, \ottnt{t}  :  \ottnt{A_{{\mathrm{1}}}} }{%
{\ottdrulefstName}{}%
}}


\newcommand{\ottdrulesndName}[0]{\ottdrulename{snd}}
\newcommand{\ottdrulesnd}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}}  }%
}{
 \Gamma   \vdash   \mathsf{snd} \, \ottnt{t}  :  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdrulesndName}{}%
}}


\newcommand{\ottdrulelamName}[0]{\ottdrulename{lam}}
\newcommand{\ottdrulelam}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A}   \vdash   \ottnt{t}  :  \ottnt{B} }%
}{
 \Gamma   \vdash    \lambda  \ottmv{x}  :  \ottnt{A_{{\mathrm{1}}}}  .  \ottnt{t}   :  \ottnt{A}  \rightarrow  \ottnt{B} }{%
{\ottdrulelamName}{}%
}}


\newcommand{\ottdruleappName}[0]{\ottdrulename{app}}
\newcommand{\ottdruleapp}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A}  \rightarrow  \ottnt{B}   \quad   \Gamma   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A}  }%
}{
 \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{B} }{%
{\ottdruleappName}{}%
}}


\newcommand{\ottdruleLamName}[0]{\ottdrulename{Lam}}
\newcommand{\ottdruleLam}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma , \ottmv{X} :\star    \vdash   \ottnt{t}  :  \ottnt{A} }%
}{
 \Gamma   \vdash    \Lambda  \ottmv{X} . \ottnt{t}   :   \forall  \ottmv{X}  .  \ottnt{A}  }{%
{\ottdruleLamName}{}%
}}


\newcommand{\ottdruletypeAppName}[0]{\ottdrulename{typeApp}}
\newcommand{\ottdruletypeApp}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t}  :   \forall  \ottmv{X}  .  \ottnt{B}    \quad   \Gamma  \vdash  \ottnt{A}  : \star  }%
}{
 \Gamma   \vdash    [  \ottnt{A}  ]  \ottnt{t}   :  \ottsym{[}  \ottnt{A}  \ottsym{/}  \ottmv{X}  \ottsym{]}  \ottnt{B} }{%
{\ottdruletypeAppName}{}%
}}


\newcommand{\ottdrulesuccUName}[0]{\ottdrulename{succU}}
\newcommand{\ottdrulesuccU}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :  \ottsym{\mbox{?}} }%
}{
 \Gamma   \vdash   \mathsf{succ} \, \ottnt{t}  :  \ottsym{\mbox{?}} }{%
{\ottdrulesuccUName}{}%
}}


\newcommand{\ottdrulefstUName}[0]{\ottdrulename{fstU}}
\newcommand{\ottdrulefstU}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :  \ottsym{\mbox{?}} }%
}{
 \Gamma   \vdash   \mathsf{fst} \, \ottnt{t}  :  \ottsym{\mbox{?}} }{%
{\ottdrulefstUName}{}%
}}


\newcommand{\ottdrulesndUName}[0]{\ottdrulename{sndU}}
\newcommand{\ottdrulesndU}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :  \ottsym{\mbox{?}} }%
}{
 \Gamma   \vdash   \mathsf{snd} \, \ottnt{t}  :  \ottsym{\mbox{?}} }{%
{\ottdrulesndUName}{}%
}}


\newcommand{\ottdruleappUName}[0]{\ottdrulename{appU}}
\newcommand{\ottdruleappU}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottsym{\mbox{?}}   \quad   \Gamma   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A}  }%
}{
 \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  :  \ottsym{\mbox{?}} }{%
{\ottdruleappUName}{}%
}}


\newcommand{\ottdruleappCName}[0]{\ottdrulename{appC}}
\newcommand{\ottdruleappC}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{B} }%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A_{{\mathrm{2}}}}   \quad   \ottnt{A_{{\mathrm{1}}}}  \sim  \ottnt{A_{{\mathrm{2}}}}  }%
}{
 \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{B} }{%
{\ottdruleappCName}{}%
}}


\newcommand{\ottdrulefstCName}[0]{\ottdrulename{fstC}}
\newcommand{\ottdrulefstC}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t}  :   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{B}    \quad   \ottnt{A_{{\mathrm{1}}}}  \sim  \ottnt{A_{{\mathrm{2}}}}  }%
}{
 \Gamma   \vdash   \mathsf{fst} \, \ottnt{t}  :  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdrulefstCName}{}%
}}


\newcommand{\ottdrulesndCName}[0]{\ottdrulename{sndC}}
\newcommand{\ottdrulesndC}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t}  :   \ottnt{A}  \times  \ottnt{B_{{\mathrm{1}}}}    \quad   \ottnt{B_{{\mathrm{1}}}}  \sim  \ottnt{B_{{\mathrm{2}}}}  }%
}{
 \Gamma   \vdash   \mathsf{snd} \, \ottnt{t}  :  \ottnt{B_{{\mathrm{2}}}} }{%
{\ottdrulesndCName}{}%
}}


\newcommand{\ottdrulecastName}[0]{\ottdrulename{cast}}
\newcommand{\ottdrulecast}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t}  :  \ottnt{A}   \quad   \ottnt{A}  \sim  \ottnt{B}  }%
}{
 \Gamma   \vdash    \langle  \ottnt{B}  \rangle  \ottnt{t}   :  \ottnt{B} }{%
{\ottdrulecastName}{}%
}}

\newcommand{\ottdefntype}[1]{\begin{ottdefnblock}[#1]{$ \Gamma   \ottnt{vd}   \ottnt{t}  :  \ottnt{A} $}{\ottcom{$\ottnt{t}$ has type $\ottnt{A}$ in context $\Gamma$}}
\ottusedrule{\ottdrulevar{}}
\ottusedrule{\ottdrulevarP{}}
\ottusedrule{\ottdruleBox{}}
\ottusedrule{\ottdruleBoxP{}}
\ottusedrule{\ottdruleUnbox{}}
\ottusedrule{\ottdruleUnboxP{}}
\ottusedrule{\ottdruleBoxG{}}
\ottusedrule{\ottdruleUnboxG{}}
\ottusedrule{\ottdrulesquash{}}
\ottusedrule{\ottdrulesquashP{}}
\ottusedrule{\ottdrulesplit{}}
\ottusedrule{\ottdrulesplitP{}}
\ottusedrule{\ottdruleunit{}}
\ottusedrule{\ottdruleunitP{}}
\ottusedrule{\ottdrulezero{}}
\ottusedrule{\ottdrulezeroP{}}
\ottusedrule{\ottdrulesucc{}}
\ottusedrule{\ottdrulecase{}}
\ottusedrule{\ottdrulepair{}}
\ottusedrule{\ottdrulefst{}}
\ottusedrule{\ottdrulesnd{}}
\ottusedrule{\ottdrulelam{}}
\ottusedrule{\ottdruleapp{}}
\ottusedrule{\ottdruleLam{}}
\ottusedrule{\ottdruletypeApp{}}
\ottusedrule{\ottdrulesuccU{}}
\ottusedrule{\ottdrulefstU{}}
\ottusedrule{\ottdrulesndU{}}
\ottusedrule{\ottdruleappU{}}
\ottusedrule{\ottdruleappC{}}
\ottusedrule{\ottdrulefstC{}}
\ottusedrule{\ottdrulesndC{}}
\ottusedrule{\ottdrulecast{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsTyping}{
\ottdefnkind{}\ottdefnctxOk{}\ottdefntypeConsis{}\ottdefntype{}}

% defns Reduction
%% defn red
\newcommand{\ottdrulerdXXvaluesName}[0]{\ottdrulename{rd\_values}}
\newcommand{\ottdrulerdXXvalues}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{s}  :  \ottnt{A} }%
}{
\Gamma  \vdash  \ottnt{s}  \rightsquigarrow  \ottnt{s}  \ottsym{:}  \ottnt{A}}{%
{\ottdrulerdXXvaluesName}{}%
}}


\newcommand{\ottdrulerdXXretracTName}[0]{\ottdrulename{rd\_retracT}}
\newcommand{\ottdrulerdXXretracT}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :  \ottnt{C} }%
}{
\Gamma  \vdash   \mathsf{unbox}_{ \ottnt{C} }  \, \ottsym{(}   \mathsf{box}_{ \ottnt{C} }  \, \ottnt{t}  \ottsym{)}  \rightsquigarrow  \ottnt{t}  \ottsym{:}  \ottnt{C}}{%
{\ottdrulerdXXretracTName}{}%
}}


\newcommand{\ottdrulerdXXretracTGName}[0]{\ottdrulename{rd\_retracTG}}
\newcommand{\ottdrulerdXXretracTG}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :  \ottnt{A} }%
}{
\Gamma  \vdash   \mathsf{Unbox}_{ \ottnt{A} }  \, \ottsym{(}   \mathsf{Box}_{ \ottnt{A} }  \, \ottnt{t}  \ottsym{)}  \rightsquigarrow  \ottnt{t}  \ottsym{:}  \ottnt{A}}{%
{\ottdrulerdXXretracTGName}{}%
}}


\newcommand{\ottdrulerdXXretractUName}[0]{\ottdrulename{rd\_retractU}}
\newcommand{\ottdrulerdXXretractU}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :  \ottnt{U} }%
}{
\Gamma  \vdash   \mathsf{split}_{ \ottnt{U} }  \, \ottsym{(}   \mathsf{squash}_{ \ottnt{U} }  \, \ottnt{t}  \ottsym{)}  \rightsquigarrow  \ottnt{t}  \ottsym{:}  \ottnt{U}}{%
{\ottdrulerdXXretractUName}{}%
}}


\newcommand{\ottdrulerdXXsuccName}[0]{\ottdrulename{rd\_succ}}
\newcommand{\ottdrulerdXXsucc}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{t}  \rightsquigarrow  \ottnt{t'}  \ottsym{:}   \mathsf{Nat} }%
}{
\Gamma  \vdash  \mathsf{succ} \, \ottnt{t}  \rightsquigarrow  \mathsf{succ} \, \ottnt{t'}  \ottsym{:}   \mathsf{Nat} }{%
{\ottdrulerdXXsuccName}{}%
}}


\newcommand{\ottdrulerdXXcaseZeroName}[0]{\ottdrulename{rd\_case0}}
\newcommand{\ottdrulerdXXcaseZero}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A}   \quad   \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}   \mathsf{Nat}    \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A}  }%
}{
\Gamma  \vdash   \mathsf{case}\, \ottsym{0} \,\mathsf{of}\, \ottnt{t_{{\mathrm{1}}}}  \mid\mid  \ottmv{x} . \ottnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A}}{%
{\ottdrulerdXXcaseZeroName}{}%
}}


\newcommand{\ottdrulerdXXcaseSuccName}[0]{\ottdrulename{rd\_caseSucc}}
\newcommand{\ottdrulerdXXcaseSucc}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :   \mathsf{Nat}  }%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A}   \quad   \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}   \mathsf{Nat}    \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A}  }%
}{
\Gamma  \vdash   \mathsf{case}\, \ottsym{(}  \mathsf{succ} \, \ottnt{t}  \ottsym{)} \,\mathsf{of}\, \ottnt{t_{{\mathrm{1}}}}  \mid\mid  \ottmv{x} . \ottnt{t_{{\mathrm{2}}}}   \rightsquigarrow  \ottsym{[}  \ottnt{t}  \ottsym{/}  \ottmv{x}  \ottsym{]}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A}}{%
{\ottdrulerdXXcaseSuccName}{}%
}}


\newcommand{\ottdrulerdXXcaseOneName}[0]{\ottdrulename{rd\_case1}}
\newcommand{\ottdrulerdXXcaseOne}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{t}  \rightsquigarrow  \ottnt{t'}  \ottsym{:}   \mathsf{Nat} }%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A}   \quad   \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}   \mathsf{Nat}    \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A}  }%
}{
\Gamma  \vdash   \mathsf{case}\, \ottnt{t} \,\mathsf{of}\, \ottnt{t_{{\mathrm{1}}}}  \mid\mid  \ottmv{x} . \ottnt{t_{{\mathrm{2}}}}   \rightsquigarrow   \mathsf{case}\, \ottnt{t'} \,\mathsf{of}\, \ottnt{t_{{\mathrm{1}}}}  \mid\mid  \ottmv{x} . \ottnt{t_{{\mathrm{2}}}}   \ottsym{:}  \ottnt{A}}{%
{\ottdrulerdXXcaseOneName}{}%
}}


\newcommand{\ottdrulerdXXcaseTwoName}[0]{\ottdrulename{rd\_case2}}
\newcommand{\ottdrulerdXXcaseTwo}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :   \mathsf{Nat}  }%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A}  \quad   \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}   \mathsf{Nat}    \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A}  }%
}{
\Gamma  \vdash   \mathsf{case}\, \ottnt{t} \,\mathsf{of}\, \ottnt{t_{{\mathrm{1}}}}  \mid\mid  \ottmv{x} . \ottnt{t_{{\mathrm{2}}}}   \rightsquigarrow   \mathsf{case}\, \ottnt{t} \,\mathsf{of}\, \ottnt{t'_{{\mathrm{1}}}}  \mid\mid  \ottmv{x} . \ottnt{t_{{\mathrm{2}}}}   \ottsym{:}  \ottnt{A}}{%
{\ottdrulerdXXcaseTwoName}{}%
}}


\newcommand{\ottdrulerdXXcaseThreeName}[0]{\ottdrulename{rd\_case3}}
\newcommand{\ottdrulerdXXcaseThree}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :   \mathsf{Nat}  }%
\ottpremise{  \Gamma   \vdash   \ottnt{t}  :  \ottnt{A}   \quad  \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}   \mathsf{Nat}   \vdash  \ottnt{t_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A} }%
}{
\Gamma  \vdash   \mathsf{case}\, \ottnt{t} \,\mathsf{of}\, \ottnt{t_{{\mathrm{1}}}}  \mid\mid  \ottmv{x} . \ottnt{t_{{\mathrm{2}}}}   \rightsquigarrow   \mathsf{case}\, \ottnt{t} \,\mathsf{of}\, \ottnt{t_{{\mathrm{1}}}}  \mid\mid  \ottmv{x} . \ottnt{t'_{{\mathrm{2}}}}   \ottsym{:}  \ottnt{A}}{%
{\ottdrulerdXXcaseThreeName}{}%
}}


\newcommand{\ottdrulerdXXbetaName}[0]{\ottdrulename{rd\_beta}}
\newcommand{\ottdrulerdXXbeta}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A_{{\mathrm{2}}}}   \quad   \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A_{{\mathrm{1}}}}  }%
}{
\Gamma  \vdash  \ottsym{(}   \lambda  \ottmv{x}  :  \ottnt{A_{{\mathrm{1}}}}  .  \ottnt{t_{{\mathrm{2}}}}   \ottsym{)} \, \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottsym{[}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{/}  \ottmv{x}  \ottsym{]}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdXXbetaName}{}%
}}


\newcommand{\ottdrulerdXXetaName}[0]{\ottdrulename{rd\_eta}}
\newcommand{\ottdrulerdXXeta}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t}  :  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}   \quad   \ottmv{x}  \not\in \mathsf{FV}( \ottnt{t} )  }%
}{
\Gamma  \vdash   \lambda  \ottmv{x}  :  \ottnt{A_{{\mathrm{1}}}}  .   \ottnt{t} \, \ottmv{x}    \rightsquigarrow  \ottnt{t}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdXXetaName}{}%
}}


\newcommand{\ottdrulerdXXprojOneName}[0]{\ottdrulename{rd\_proj1}}
\newcommand{\ottdrulerdXXprojOne}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A_{{\mathrm{1}}}}   \quad   \Gamma   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A_{{\mathrm{2}}}}  }%
}{
\Gamma  \vdash  \mathsf{fst} \, \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \rightsquigarrow  \ottnt{t_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}}{%
{\ottdrulerdXXprojOneName}{}%
}}


\newcommand{\ottdrulerdXXprojTwoName}[0]{\ottdrulename{rd\_proj2}}
\newcommand{\ottdrulerdXXprojTwo}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A_{{\mathrm{1}}}}   \quad   \Gamma   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A_{{\mathrm{2}}}}  }%
}{
\Gamma  \vdash  \mathsf{snd} \, \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \rightsquigarrow  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdXXprojTwoName}{}%
}}


\newcommand{\ottdrulerdXXetaPName}[0]{\ottdrulename{rd\_etaP}}
\newcommand{\ottdrulerdXXetaP}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}}  }%
}{
\Gamma  \vdash  \ottsym{(}  \mathsf{fst} \, \ottnt{t}  \ottsym{,}  \mathsf{snd} \, \ottnt{t}  \ottsym{)}  \rightsquigarrow  \ottnt{t}  \ottsym{:}   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdrulerdXXetaPName}{}%
}}


\newcommand{\ottdrulerdXXlamName}[0]{\ottdrulename{rd\_lam}}
\newcommand{\ottdrulerdXXlam}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \vdash  \ottnt{t}  \rightsquigarrow  \ottnt{t'}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash   \lambda  \ottmv{x}  :  \ottnt{A_{{\mathrm{1}}}}  .  \ottnt{t}   \rightsquigarrow   \lambda  \ottmv{x}  :  \ottnt{A_{{\mathrm{1}}}}  .  \ottnt{t'}   \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdXXlamName}{}%
}}


\newcommand{\ottdrulerdXXappOneName}[0]{\ottdrulename{rd\_app1}}
\newcommand{\ottdrulerdXXappOne}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}  \quad   \Gamma   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A_{{\mathrm{1}}}}  }%
}{
\Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdXXappOneName}{}%
}}


\newcommand{\ottdrulerdXXappTwoName}[0]{\ottdrulename{rd\_app2}}
\newcommand{\ottdrulerdXXappTwo}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}   \quad  \Gamma  \vdash  \ottnt{t_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}} }%
}{
\Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t'_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdXXappTwoName}{}%
}}


\newcommand{\ottdrulerdXXfstName}[0]{\ottdrulename{rd\_fst}}
\newcommand{\ottdrulerdXXfst}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{t}  \rightsquigarrow  \ottnt{t'}  \ottsym{:}   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}} }%
}{
\Gamma  \vdash  \mathsf{fst} \, \ottnt{t}  \rightsquigarrow  \mathsf{fst} \, \ottnt{t'}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}}{%
{\ottdrulerdXXfstName}{}%
}}


\newcommand{\ottdrulerdXXsndName}[0]{\ottdrulename{rd\_snd}}
\newcommand{\ottdrulerdXXsnd}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{t}  \rightsquigarrow  \ottnt{t'}  \ottsym{:}   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}} }%
}{
\Gamma  \vdash  \mathsf{snd} \, \ottnt{t}  \rightsquigarrow  \mathsf{snd} \, \ottnt{t'}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdXXsndName}{}%
}}


\newcommand{\ottdrulerdXXpairOneName}[0]{\ottdrulename{rd\_pair1}}
\newcommand{\ottdrulerdXXpairOne}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \quad   \Gamma   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A_{{\mathrm{2}}}}  }%
}{
\Gamma  \vdash  \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \rightsquigarrow  \ottsym{(}  \ottnt{t'_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \ottsym{:}   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdrulerdXXpairOneName}{}%
}}


\newcommand{\ottdrulerdXXpairTwoName}[0]{\ottdrulename{rd\_pair2}}
\newcommand{\ottdrulerdXXpairTwo}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A_{{\mathrm{1}}}}   \quad  \Gamma  \vdash  \ottnt{t_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}} }%
}{
\Gamma  \vdash  \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \rightsquigarrow  \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t'_{{\mathrm{2}}}}  \ottsym{)}  \ottsym{:}   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdrulerdXXpairTwoName}{}%
}}


\newcommand{\ottdrulerdXXtypeBetaName}[0]{\ottdrulename{rd\_typeBeta}}
\newcommand{\ottdrulerdXXtypeBeta}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma , \ottmv{X} :\star    \vdash   \ottnt{t}  :  \ottnt{B} }%
}{
\Gamma  \vdash   [  \ottnt{A}  ]  \ottsym{(}   \Lambda  \ottmv{X} . \ottnt{t}   \ottsym{)}   \rightsquigarrow  \ottsym{[}  \ottnt{A}  \ottsym{/}  \ottmv{X}  \ottsym{]}  \ottnt{t}  \ottsym{:}  \ottsym{[}  \ottnt{A}  \ottsym{/}  \ottmv{X}  \ottsym{]}  \ottnt{B}}{%
{\ottdrulerdXXtypeBetaName}{}%
}}


\newcommand{\ottdrulerdXXtypeAppName}[0]{\ottdrulename{rd\_typeApp}}
\newcommand{\ottdrulerdXXtypeApp}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}   \forall  \ottmv{X}  .  \ottnt{B} }%
}{
\Gamma  \vdash   [  \ottnt{A}  ]  \ottnt{t_{{\mathrm{1}}}}   \rightsquigarrow   [  \ottnt{A}  ]  \ottnt{t_{{\mathrm{2}}}}   \ottsym{:}  \ottsym{[}  \ottnt{A}  \ottsym{/}  \ottmv{X}  \ottsym{]}  \ottnt{B}}{%
{\ottdrulerdXXtypeAppName}{}%
}}


\newcommand{\ottdrulerdXXLamName}[0]{\ottdrulename{rd\_Lam}}
\newcommand{\ottdrulerdXXLam}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma , \ottmv{X} :\star   \vdash  \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A}}%
}{
\Gamma  \vdash   \Lambda  \ottmv{X} . \ottnt{t_{{\mathrm{1}}}}   \rightsquigarrow   \Lambda  \ottmv{X} . \ottnt{t_{{\mathrm{2}}}}   \ottsym{:}   \forall  \ottmv{X}  .  \ottnt{A} }{%
{\ottdrulerdXXLamName}{}%
}}

\newcommand{\ottdefnred}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A}$}{\ottcom{$\ottnt{t_{{\mathrm{1}}}}$ reduces to $\ottnt{t_{{\mathrm{2}}}}$ with type $\ottnt{A}$ in context $\Gamma$}}
\ottusedrule{\ottdrulerdXXvalues{}}
\ottusedrule{\ottdrulerdXXretracT{}}
\ottusedrule{\ottdrulerdXXretracTG{}}
\ottusedrule{\ottdrulerdXXretractU{}}
\ottusedrule{\ottdrulerdXXsucc{}}
\ottusedrule{\ottdrulerdXXcaseZero{}}
\ottusedrule{\ottdrulerdXXcaseSucc{}}
\ottusedrule{\ottdrulerdXXcaseOne{}}
\ottusedrule{\ottdrulerdXXcaseTwo{}}
\ottusedrule{\ottdrulerdXXcaseThree{}}
\ottusedrule{\ottdrulerdXXbeta{}}
\ottusedrule{\ottdrulerdXXeta{}}
\ottusedrule{\ottdrulerdXXprojOne{}}
\ottusedrule{\ottdrulerdXXprojTwo{}}
\ottusedrule{\ottdrulerdXXetaP{}}
\ottusedrule{\ottdrulerdXXlam{}}
\ottusedrule{\ottdrulerdXXappOne{}}
\ottusedrule{\ottdrulerdXXappTwo{}}
\ottusedrule{\ottdrulerdXXfst{}}
\ottusedrule{\ottdrulerdXXsnd{}}
\ottusedrule{\ottdrulerdXXpairOne{}}
\ottusedrule{\ottdrulerdXXpairTwo{}}
\ottusedrule{\ottdrulerdXXtypeBeta{}}
\ottusedrule{\ottdrulerdXXtypeApp{}}
\ottusedrule{\ottdrulerdXXLam{}}
\end{ottdefnblock}}

%% defn redA
\newcommand{\ottdrulerdAXXvaluesName}[0]{\ottdrulename{rdA\_values}}
\newcommand{\ottdrulerdAXXvalues}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{v}  :  \ottnt{A} }%
}{
\Gamma  \vdash  \ottnt{v}  \rightsquigarrow  \ottnt{v}  \ottsym{:}  \ottnt{A}}{%
{\ottdrulerdAXXvaluesName}{}%
}}


\newcommand{\ottdrulerdAXXcastAName}[0]{\ottdrulename{rdA\_castA}}
\newcommand{\ottdrulerdAXXcastA}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash    \mathsf{drop}\text{-}\mathsf{cast}\, \ottnt{v}   :  \ottnt{C} }%
}{
\Gamma  \vdash   \langle  \ottnt{C}  \rangle  \ottnt{v}   \rightsquigarrow   \mathsf{drop}\text{-}\mathsf{cast}\, \ottnt{v}   \ottsym{:}  \ottnt{C}}{%
{\ottdrulerdAXXcastAName}{}%
}}


\newcommand{\ottdrulerdAXXcastNatName}[0]{\ottdrulename{rdA\_castNat}}
\newcommand{\ottdrulerdAXXcastNat}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :  \ottsym{\mbox{?}} }%
}{
\Gamma  \vdash   \langle   \mathsf{Nat}   \rangle  \ottsym{(}  \mathsf{succ} \, \ottnt{t}  \ottsym{)}   \rightsquigarrow  \mathsf{succ} \,  \langle   \mathsf{Nat}   \rangle  \ottnt{t}   \ottsym{:}   \mathsf{Nat} }{%
{\ottdrulerdAXXcastNatName}{}%
}}


\newcommand{\ottdrulerdAXXcastArrowName}[0]{\ottdrulename{rdA\_castArrow}}
\newcommand{\ottdrulerdAXXcastArrow}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t}  :  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{B_{{\mathrm{1}}}}   \quad   \ottsym{(}  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{B_{{\mathrm{1}}}}  \ottsym{)}  \sim  \ottsym{(}  \ottnt{A_{{\mathrm{2}}}}  \rightarrow  \ottnt{B_{{\mathrm{2}}}}  \ottsym{)}  }%
}{
\Gamma  \vdash   \langle  \ottnt{A_{{\mathrm{2}}}}  \rightarrow  \ottnt{B_{{\mathrm{2}}}}  \rangle  \ottnt{t}   \rightsquigarrow   \lambda  \ottmv{y}  :  \ottnt{A_{{\mathrm{2}}}}  .   \langle  \ottnt{B_{{\mathrm{2}}}}  \rangle  \ottsym{(}  \ottnt{t} \,  \langle  \ottnt{A_{{\mathrm{1}}}}  \rangle  \ottmv{y}   \ottsym{)}    \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}  \rightarrow  \ottnt{B_{{\mathrm{2}}}}}{%
{\ottdrulerdAXXcastArrowName}{}%
}}


\newcommand{\ottdrulerdAXXcastPairName}[0]{\ottdrulename{rdA\_castPair}}
\newcommand{\ottdrulerdAXXcastPair}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t}  :   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{B_{{\mathrm{1}}}}    \quad   \ottsym{(}   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{B_{{\mathrm{1}}}}   \ottsym{)}  \sim  \ottsym{(}   \ottnt{A_{{\mathrm{2}}}}  \times  \ottnt{B_{{\mathrm{2}}}}   \ottsym{)}  }%
}{
\Gamma  \vdash   \langle   \ottnt{A_{{\mathrm{2}}}}  \times  \ottnt{B_{{\mathrm{2}}}}   \rangle  \ottnt{t}   \rightsquigarrow  \ottsym{(}   \langle  \ottnt{A_{{\mathrm{2}}}}  \rangle  \ottsym{(}  \mathsf{fst} \, \ottnt{t}  \ottsym{)}   \ottsym{,}   \langle  \ottnt{B_{{\mathrm{2}}}}  \rangle  \ottsym{(}  \mathsf{snd} \, \ottnt{t}  \ottsym{)}   \ottsym{)}  \ottsym{:}   \ottnt{A_{{\mathrm{2}}}}  \times  \ottnt{B_{{\mathrm{2}}}} }{%
{\ottdrulerdAXXcastPairName}{}%
}}


\newcommand{\ottdrulerdAXXcastName}[0]{\ottdrulename{rdA\_cast}}
\newcommand{\ottdrulerdAXXcast}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A}  \quad   \ottnt{A}  \sim  \ottnt{B}  }%
}{
\Gamma  \vdash   \langle  \ottnt{B}  \rangle  \ottnt{t_{{\mathrm{1}}}}   \rightsquigarrow   \langle  \ottnt{B}  \rangle  \ottnt{t_{{\mathrm{2}}}}   \ottsym{:}  \ottnt{B}}{%
{\ottdrulerdAXXcastName}{}%
}}


\newcommand{\ottdrulerdAXXbetaName}[0]{\ottdrulename{rdA\_beta}}
\newcommand{\ottdrulerdAXXbeta}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A_{{\mathrm{2}}}}   \quad   \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A_{{\mathrm{1}}}}  }%
}{
\Gamma  \vdash  \ottsym{(}   \lambda  \ottmv{x}  :  \ottnt{A_{{\mathrm{1}}}}  .  \ottnt{t_{{\mathrm{2}}}}   \ottsym{)} \, \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottsym{[}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{/}  \ottmv{x}  \ottsym{]}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdAXXbetaName}{}%
}}


\newcommand{\ottdrulerdAXXetaName}[0]{\ottdrulename{rdA\_eta}}
\newcommand{\ottdrulerdAXXeta}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t}  :  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}   \quad   \ottmv{x}  \not\in \mathsf{FV}( \ottnt{t} )  }%
}{
\Gamma  \vdash   \lambda  \ottmv{x}  :  \ottnt{A_{{\mathrm{1}}}}  .   \ottnt{t} \, \ottmv{x}    \rightsquigarrow  \ottnt{t}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdAXXetaName}{}%
}}


\newcommand{\ottdrulerdAXXlamName}[0]{\ottdrulename{rdA\_lam}}
\newcommand{\ottdrulerdAXXlam}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \vdash  \ottnt{t}  \rightsquigarrow  \ottnt{t'}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}}%
}{
\Gamma  \vdash   \lambda  \ottmv{x}  :  \ottnt{A_{{\mathrm{1}}}}  .  \ottnt{t}   \rightsquigarrow   \lambda  \ottmv{x}  :  \ottnt{A_{{\mathrm{1}}}}  .  \ottnt{t'}   \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdAXXlamName}{}%
}}


\newcommand{\ottdrulerdAXXappOneName}[0]{\ottdrulename{rdA\_app1}}
\newcommand{\ottdrulerdAXXappOne}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}  \quad   \Gamma   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A_{{\mathrm{1}}}}  }%
}{
\Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdAXXappOneName}{}%
}}


\newcommand{\ottdrulerdAXXappTwoName}[0]{\ottdrulename{rdA\_app2}}
\newcommand{\ottdrulerdAXXappTwo}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}   \quad  \Gamma  \vdash  \ottnt{t_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}} }%
}{
\Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t'_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdAXXappTwoName}{}%
}}


\newcommand{\ottdrulerdAXXfstName}[0]{\ottdrulename{rdA\_fst}}
\newcommand{\ottdrulerdAXXfst}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{t}  \rightsquigarrow  \ottnt{t'}  \ottsym{:}   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}} }%
}{
\Gamma  \vdash  \mathsf{fst} \, \ottnt{t}  \rightsquigarrow  \mathsf{fst} \, \ottnt{t'}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}}{%
{\ottdrulerdAXXfstName}{}%
}}


\newcommand{\ottdrulerdAXXsndName}[0]{\ottdrulename{rdA\_snd}}
\newcommand{\ottdrulerdAXXsnd}[1]{\ottdrule[#1]{%
\ottpremise{\Gamma  \vdash  \ottnt{t}  \rightsquigarrow  \ottnt{t'}  \ottsym{:}   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}} }%
}{
\Gamma  \vdash  \mathsf{snd} \, \ottnt{t}  \rightsquigarrow  \mathsf{snd} \, \ottnt{t'}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}}}{%
{\ottdrulerdAXXsndName}{}%
}}


\newcommand{\ottdrulerdAXXetaPName}[0]{\ottdrulename{rdA\_etaP}}
\newcommand{\ottdrulerdAXXetaP}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma   \vdash   \ottnt{t}  :   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}}  }%
}{
\Gamma  \vdash  \ottsym{(}  \mathsf{fst} \, \ottnt{t}  \ottsym{,}  \mathsf{snd} \, \ottnt{t}  \ottsym{)}  \rightsquigarrow  \ottnt{t}  \ottsym{:}   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdrulerdAXXetaPName}{}%
}}


\newcommand{\ottdrulerdAXXpairOneName}[0]{\ottdrulename{rdA\_pair1}}
\newcommand{\ottdrulerdAXXpairOne}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{1}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \quad   \Gamma   \vdash   \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A_{{\mathrm{2}}}}  }%
}{
\Gamma  \vdash  \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \rightsquigarrow  \ottsym{(}  \ottnt{t'_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \ottsym{:}   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdrulerdAXXpairOneName}{}%
}}


\newcommand{\ottdrulerdAXXpairTwoName}[0]{\ottdrulename{rdA\_pair2}}
\newcommand{\ottdrulerdAXXpairTwo}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma   \vdash   \ottnt{t_{{\mathrm{1}}}}  :  \ottnt{A_{{\mathrm{1}}}}   \quad  \Gamma  \vdash  \ottnt{t_{{\mathrm{2}}}}  \rightsquigarrow  \ottnt{t'_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A_{{\mathrm{2}}}} }%
}{
\Gamma  \vdash  \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \rightsquigarrow  \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t'_{{\mathrm{2}}}}  \ottsym{)}  \ottsym{:}   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdrulerdAXXpairTwoName}{}%
}}

\newcommand{\ottdefnredA}[1]{\begin{ottdefnblock}[#1]{$\Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \rightsquigarrow  \ottnt{t_{{\mathrm{2}}}}  \ottsym{:}  \ottnt{A}$}{\ottcom{Reduction for annotated Siek16}}
\ottusedrule{\ottdrulerdAXXvalues{}}
\ottusedrule{\ottdrulerdAXXcastA{}}
\ottusedrule{\ottdrulerdAXXcastNat{}}
\ottusedrule{\ottdrulerdAXXcastArrow{}}
\ottusedrule{\ottdrulerdAXXcastPair{}}
\ottusedrule{\ottdrulerdAXXcast{}}
\ottusedrule{\ottdrulerdAXXbeta{}}
\ottusedrule{\ottdrulerdAXXeta{}}
\ottusedrule{\ottdrulerdAXXlam{}}
\ottusedrule{\ottdrulerdAXXappOne{}}
\ottusedrule{\ottdrulerdAXXappTwo{}}
\ottusedrule{\ottdrulerdAXXfst{}}
\ottusedrule{\ottdrulerdAXXsnd{}}
\ottusedrule{\ottdrulerdAXXetaP{}}
\ottusedrule{\ottdrulerdAXXpairOne{}}
\ottusedrule{\ottdrulerdAXXpairTwo{}}
\end{ottdefnblock}}

%% defn castIn
\newcommand{\ottdruleciXXvarName}[0]{\ottdrulename{ci\_var}}
\newcommand{\ottdruleciXXvar}[1]{\ottdrule[#1]{%
\ottpremise{\ottmv{x}  \ottsym{:}  \ottnt{A} \, \in \, \Gamma}%
}{
 \Gamma  \vdash  \ottmv{x}  \Rightarrow  \ottmv{x}  :  \ottnt{A} }{%
{\ottdruleciXXvarName}{}%
}}


\newcommand{\ottdruleciXXzeroName}[0]{\ottdrulename{ci\_zero}}
\newcommand{\ottdruleciXXzero}[1]{\ottdrule[#1]{%
}{
 \Gamma  \vdash  \ottsym{0}  \Rightarrow  \ottsym{0}  :  \ottnt{A} }{%
{\ottdruleciXXzeroName}{}%
}}


\newcommand{\ottdruleciXXtrivName}[0]{\ottdrulename{ci\_triv}}
\newcommand{\ottdruleciXXtriv}[1]{\ottdrule[#1]{%
}{
 \Gamma  \vdash   \mathsf{triv}   \Rightarrow   \mathsf{triv}   :   \mathsf{Unit}  }{%
{\ottdruleciXXtrivName}{}%
}}


\newcommand{\ottdruleciXXsuccName}[0]{\ottdrulename{ci\_succ}}
\newcommand{\ottdruleciXXsucc}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{2}}}}  :   \mathsf{Nat}  }%
}{
 \Gamma  \vdash  \mathsf{succ} \, \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \mathsf{succ} \, \ottnt{t_{{\mathrm{2}}}}  :   \mathsf{Nat}  }{%
{\ottdruleciXXsuccName}{}%
}}


\newcommand{\ottdruleciXXpairName}[0]{\ottdrulename{ci\_pair}}
\newcommand{\ottdruleciXXpair}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{3}}}}  :  \ottnt{A_{{\mathrm{1}}}}   \quad   \Gamma  \vdash  \ottnt{t_{{\mathrm{2}}}}  \Rightarrow  \ottnt{t_{{\mathrm{4}}}}  :  \ottnt{A_{{\mathrm{2}}}}  }%
}{
 \Gamma  \vdash  \ottsym{(}  \ottnt{t_{{\mathrm{1}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{2}}}}  \ottsym{)}  \Rightarrow  \ottsym{(}  \ottnt{t_{{\mathrm{3}}}}  \ottsym{,}  \ottnt{t_{{\mathrm{4}}}}  \ottsym{)}  :   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{A_{{\mathrm{2}}}}  }{%
{\ottdruleciXXpairName}{}%
}}


\newcommand{\ottdruleciXXfstOneName}[0]{\ottdrulename{ci\_fst1}}
\newcommand{\ottdruleciXXfstOne}[1]{\ottdrule[#1]{%
\ottpremise{    \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{2}}}}  :   \ottnt{A_{{\mathrm{1}}}}  \times  \ottnt{B}    \quad   \ottnt{A_{{\mathrm{1}}}}  \sim  \ottnt{A_{{\mathrm{2}}}}     \quad   \ottnt{A_{{\mathrm{1}}}}  \neq  \ottnt{A_{{\mathrm{2}}}}  }%
}{
 \Gamma  \vdash  \mathsf{fst} \, \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \mathsf{fst} \,  \langle   \ottnt{A_{{\mathrm{2}}}}  \times  \ottnt{B}   \rangle  \ottnt{t_{{\mathrm{2}}}}   :  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdruleciXXfstOneName}{}%
}}


\newcommand{\ottdruleciXXfstTwoName}[0]{\ottdrulename{ci\_fst2}}
\newcommand{\ottdruleciXXfstTwo}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{2}}}}  :   \ottnt{A}  \times  \ottnt{B}  }%
}{
 \Gamma  \vdash  \mathsf{fst} \, \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \mathsf{fst} \, \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A} }{%
{\ottdruleciXXfstTwoName}{}%
}}


\newcommand{\ottdruleciXXsndOneName}[0]{\ottdrulename{ci\_snd1}}
\newcommand{\ottdruleciXXsndOne}[1]{\ottdrule[#1]{%
\ottpremise{    \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{2}}}}  :   \ottnt{A}  \times  \ottnt{B_{{\mathrm{1}}}}    \quad   \ottnt{B_{{\mathrm{1}}}}  \sim  \ottnt{B_{{\mathrm{2}}}}     \quad   \ottnt{B_{{\mathrm{1}}}}  \neq  \ottnt{B_{{\mathrm{2}}}}  }%
}{
 \Gamma  \vdash  \mathsf{snd} \, \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \mathsf{snd} \,  \langle   \ottnt{A}  \times  \ottnt{B_{{\mathrm{2}}}}   \rangle  \ottnt{t_{{\mathrm{2}}}}   :  \ottnt{B_{{\mathrm{2}}}} }{%
{\ottdruleciXXsndOneName}{}%
}}


\newcommand{\ottdruleciXXsndTwoName}[0]{\ottdrulename{ci\_snd2}}
\newcommand{\ottdruleciXXsndTwo}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{2}}}}  :   \ottnt{A}  \times  \ottnt{B}  }%
}{
 \Gamma  \vdash  \mathsf{snd} \, \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \mathsf{snd} \, \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{B} }{%
{\ottdruleciXXsndTwoName}{}%
}}


\newcommand{\ottdruleciXXlamName}[0]{\ottdrulename{ci\_lam}}
\newcommand{\ottdruleciXXlam}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \ottsym{,}  \ottmv{x}  \ottsym{:}  \ottnt{A_{{\mathrm{1}}}}  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A_{{\mathrm{2}}}} }%
}{
 \Gamma  \vdash   \lambda  \ottmv{x}  :  \ottnt{A_{{\mathrm{1}}}}  .  \ottnt{t_{{\mathrm{1}}}}   \Rightarrow   \lambda  \ottmv{x}  :  \ottnt{A_{{\mathrm{1}}}}  .  \ottnt{t_{{\mathrm{2}}}}   :  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdruleciXXlamName}{}%
}}


\newcommand{\ottdruleciXXappOneName}[0]{\ottdrulename{ci\_app1}}
\newcommand{\ottdruleciXXappOne}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{3}}}}  :  \ottsym{\mbox{?}}   \quad   \Gamma  \vdash  \ottnt{t_{{\mathrm{2}}}}  \Rightarrow  \ottnt{t_{{\mathrm{4}}}}  :  \ottnt{A}  }%
}{
 \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  \Rightarrow  \ottsym{(}   \langle  \ottnt{A}  \rightarrow  \ottsym{\mbox{?}}  \rangle  \ottnt{t_{{\mathrm{3}}}}   \ottsym{)} \, \ottnt{t_{{\mathrm{4}}}}  :  \ottsym{\mbox{?}} }{%
{\ottdruleciXXappOneName}{}%
}}


\newcommand{\ottdruleciXXappTwoName}[0]{\ottdrulename{ci\_app2}}
\newcommand{\ottdruleciXXappTwo}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{3}}}}  :  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{B} }%
\ottpremise{    \Gamma  \vdash  \ottnt{t_{{\mathrm{2}}}}  \Rightarrow  \ottnt{t_{{\mathrm{4}}}}  :  \ottnt{A_{{\mathrm{2}}}}   \quad   \ottnt{A_{{\mathrm{1}}}}  \sim  \ottnt{A_{{\mathrm{2}}}}     \quad   \ottnt{A_{{\mathrm{1}}}}  \neq  \ottnt{A_{{\mathrm{2}}}}  }%
}{
 \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  \Rightarrow  \ottnt{t_{{\mathrm{1}}}} \,  \langle  \ottnt{A_{{\mathrm{1}}}}  \rangle  \ottnt{t}   :  \ottnt{B} }{%
{\ottdruleciXXappTwoName}{}%
}}


\newcommand{\ottdruleciXXappThreeName}[0]{\ottdrulename{ci\_app3}}
\newcommand{\ottdruleciXXappThree}[1]{\ottdrule[#1]{%
\ottpremise{  \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{3}}}}  :  \ottnt{A_{{\mathrm{1}}}}  \rightarrow  \ottnt{A_{{\mathrm{2}}}}   \quad   \Gamma  \vdash  \ottnt{t_{{\mathrm{2}}}}  \Rightarrow  \ottnt{t_{{\mathrm{4}}}}  :  \ottnt{A_{{\mathrm{1}}}}  }%
}{
 \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}} \, \ottnt{t_{{\mathrm{2}}}}  \Rightarrow  \ottnt{t_{{\mathrm{3}}}} \, \ottnt{t_{{\mathrm{4}}}}  :  \ottnt{A_{{\mathrm{2}}}} }{%
{\ottdruleciXXappThreeName}{}%
}}


\newcommand{\ottdruleciXXsuccUName}[0]{\ottdrulename{ci\_succU}}
\newcommand{\ottdruleciXXsuccU}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{2}}}}  :  \ottsym{\mbox{?}} }%
}{
 \Gamma  \vdash  \mathsf{succ} \, \ottnt{t_{{\mathrm{1}}}}  \Rightarrow   \langle  \ottsym{\mbox{?}}  \rangle  \mathsf{succ} \,  \langle   \mathsf{Nat}   \rangle  \ottnt{t_{{\mathrm{2}}}}    :  \ottsym{\mbox{?}} }{%
{\ottdruleciXXsuccUName}{}%
}}


\newcommand{\ottdruleciXXfstUName}[0]{\ottdrulename{ci\_fstU}}
\newcommand{\ottdruleciXXfstU}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{2}}}}  :  \ottsym{\mbox{?}} }%
}{
 \Gamma  \vdash  \mathsf{fst} \, \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \mathsf{fst} \,  \langle   \ottsym{\mbox{?}}  \times  \ottsym{\mbox{?}}   \rangle  \ottnt{t_{{\mathrm{2}}}}   :  \ottsym{\mbox{?}} }{%
{\ottdruleciXXfstUName}{}%
}}


\newcommand{\ottdruleciXXsndUName}[0]{\ottdrulename{ci\_sndU}}
\newcommand{\ottdruleciXXsndU}[1]{\ottdrule[#1]{%
\ottpremise{ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{2}}}}  :  \ottsym{\mbox{?}} }%
}{
 \Gamma  \vdash  \mathsf{snd} \, \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \mathsf{snd} \,  \langle   \ottsym{\mbox{?}}  \times  \ottsym{\mbox{?}}   \rangle  \ottnt{t_{{\mathrm{2}}}}   :  \ottsym{\mbox{?}} }{%
{\ottdruleciXXsndUName}{}%
}}

\newcommand{\ottdefncastIn}[1]{\begin{ottdefnblock}[#1]{$ \Gamma  \vdash  \ottnt{t_{{\mathrm{1}}}}  \Rightarrow  \ottnt{t_{{\mathrm{2}}}}  :  \ottnt{A} $}{\ottcom{Cast insertion from Siek16}}
\ottusedrule{\ottdruleciXXvar{}}
\ottusedrule{\ottdruleciXXzero{}}
\ottusedrule{\ottdruleciXXtriv{}}
\ottusedrule{\ottdruleciXXsucc{}}
\ottusedrule{\ottdruleciXXpair{}}
\ottusedrule{\ottdruleciXXfstOne{}}
\ottusedrule{\ottdruleciXXfstTwo{}}
\ottusedrule{\ottdruleciXXsndOne{}}
\ottusedrule{\ottdruleciXXsndTwo{}}
\ottusedrule{\ottdruleciXXlam{}}
\ottusedrule{\ottdruleciXXappOne{}}
\ottusedrule{\ottdruleciXXappTwo{}}
\ottusedrule{\ottdruleciXXappThree{}}
\ottusedrule{\ottdruleciXXsuccU{}}
\ottusedrule{\ottdruleciXXfstU{}}
\ottusedrule{\ottdruleciXXsndU{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsReduction}{
\ottdefnred{}\ottdefnredA{}\ottdefncastIn{}}

\newcommand{\ottdefnss}{
\ottdefnsTyping
\ottdefnsReduction
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\ottdefnss}

\begin{document}
\ottall

\begin{verbatim}
Definition rules:        105 good    0 bad
Definition rule clauses: 200 good    0 bad
\end{verbatim}
\end{document}

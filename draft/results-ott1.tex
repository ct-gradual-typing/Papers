\begin{lemma}[Kinding for Typing]
  \label{lemma:kinding_for_typing}
  If $ \Gamma  \vdash  \SGradynt{t}  :  \SGradynt{A} $, then $ \Gamma  \vdash  \SGradynt{A}  : \star $.
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction the on form of $ \Gamma  \vdash  \SGradynt{t}  :  \SGradynt{A} $.
\end{proof}

\begin{lemma}[Strengthening for Kinding]
  \label{lemma:strengthening_for_kinding}
  If $ \Gamma  \SGradysym{,}  \SGradymv{x}  \SGradysym{:}  \SGradynt{A}  \vdash  \SGradynt{B}  : \star $, then $ \Gamma  \vdash  \SGradynt{B}  : \star $.
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction on the form of $ \Gamma  \SGradysym{,}  \SGradymv{x}  \SGradysym{:}  \SGradynt{A}  \vdash  \SGradynt{B}  : \star $.
\end{proof}

\begin{lemma}[Inclusion of Bounded System F]
  \label{lemma:F-inclusion}
  Suppose $t$ is fully annotated and does not contain any applications
  of $ \mathsf{box} $ or $ \mathsf{unbox} $, and $\SGradynt{A}$ is static.  Then
  \begin{itemize}
  \item[i.] $ \Gamma  \vdash_F  \SGradynt{t}  :  \SGradynt{A} $ if and only if $\, \Gamma  \vdash  \SGradynt{t}  :  \SGradynt{A} $, and 
  \item[ii.] $ \SGradynt{t}  \rightsquigarrow^*_F  \SGradynt{t'} $ if and only if $ \SGradynt{t}  \rightsquigarrow^*  \SGradynt{t'} $.
  \end{itemize}
\end{lemma}
\begin{proof}
  We give proof sketches for both parts.  The interesting cases are
  the right-to-left directions of each part.  If we simply remove all
  rules mentioning the unknown type $\SGradysym{\mbox{?}}$ and the type consistency
  relation, and then remove $ \mathsf{box} $, $ \mathsf{unbox} $, and $\SGradysym{\mbox{?}}$ from
  the syntax of Surface Grady, then what we are left with is bounded
  system F.  Since $\SGradynt{t}$ is fully annotated and $\SGradynt{A}$ is static,
  then $ \Gamma  \vdash  \SGradynt{t}  :  \SGradynt{A} $ will hold within this fragment.

  Moving on to part two, first, we know that $\SGradynt{t}$ does not contain
  any occurrence of $ \mathsf{box} $ or $ \mathsf{unbox} $ and is fully annotated.
  This implies that $\SGradynt{t}$ lives within the bounded system F fragment
  of Surface Grady. Thus, before evaluation of $\SGradynt{t}$ Surface Grady
  will apply the cast insertion algorithm which will at most insert
  applications of the identity function into $\SGradynt{t}$ producing a term
  $\widehat{\SGradynt{t}}$, but then after potentially more than one step of
  evaluation within Core Grady, those applications of the identity
  function will be $\beta$-reduced away resulting in $\widehat{\SGradynt{t}}
  \rightsquigarrow^* \SGradynt{t} \rightsquigarrow^* \SGradynt{t'}$.  In addition,
  since $\SGradynt{t}$ in Surface Grady is the exact same program as $\SGradynt{t}$
  in bounded system F, then we know $ \SGradynt{t}  \rightsquigarrow^*_F  \SGradynt{t'} $ will hold.
\end{proof}

\begin{lemma}[Inclusion of DTLC]
  \label{lemma:inclusion_of_dtlc}
  Suppose $\SGradynt{t}$ is a closed term of DTLC. Then
  \begin{itemize}
  \item[i.] $  \cdot   \vdash   \lceil  \SGradynt{t}  \rceil   :  \SGradysym{\mbox{?}} $, and
  \item[ii.] $ \SGradynt{t}  \rightsquigarrow^*_{DTLC}  \SGradynt{t'} $ if and only if $  \lceil  \SGradynt{t}  \rceil   \rightsquigarrow^*   \lceil  \SGradynt{t'}  \rceil  $.
  \end{itemize}
\end{lemma}
\begin{proof}
  In this case DTLC is embedded into the simply typed fragment of
  Grady, and hence, this proof is the same result proven by
  \cite{Siek:2006}, and \cite{Siek:2015}.
\end{proof}

\renewcommand{\SGradydrulePXXUName}{\SGradysym{\mbox{?}}}
\renewcommand{\SGradydrulePXXreflName}{\text{refl}}
\renewcommand{\SGradydrulePXXarrowName}{\to}
\renewcommand{\SGradydrulePXXprodName}{\times}
\renewcommand{\SGradydrulePXXlistName}{\mathsf{List}}
\renewcommand{\SGradydrulePXXforallName}{\forall}
\begin{figure}
  \begin{mdframed}
    \begin{mathpar}
      \SGradydrulePXXU{} \and
      \SGradydrulePXXrefl{} \and
      \SGradydrulePXXarrow{} \and
      \SGradydrulePXXprod{} \and
      \SGradydrulePXXlist{} \and
      \SGradydrulePXXforall{}      
    \end{mathpar}
  \end{mdframed}
  \caption{Type Precision}
  \label{fig:type-pre}
\end{figure}

\begin{lemma}[Symmetry for Type Consistency]
  \label{lemma:symmetry_for_type_consistency}
  If $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $, then $ \Gamma  \vdash  \SGradynt{B}  \sim  \SGradynt{A} $.
\end{lemma}
\begin{proof}
  This holds by straightforward induction on the form of $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $.
\end{proof}

\begin{lemma}[Inversion for Type Precision]
  \label{lemma:inversion_of_type_precision}
  Suppose $ \Gamma  \vdash  \SGradynt{A}  : \star $, $ \Gamma  \vdash  \SGradynt{B}  : \star $, and $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $.  Then:
  \begin{enumR}
  \item if $\SGradynt{A} = \SGradysym{\mbox{?}}$, then $ \Gamma  \vdash  \SGradynt{B}  \lesssim   \mathbb{S}  $.
  \item if $\SGradynt{A} = \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}}$, then
    $\SGradynt{B} = \SGradysym{\mbox{?}}$ and $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $, or $\SGradynt{B} = \SGradynt{A_{{\mathrm{2}}}}  \rightarrow  \SGradynt{B_{{\mathrm{2}}}}$, $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A_{{\mathrm{2}}}} $, and $ \SGradynt{B_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{B_{{\mathrm{2}}}} $.
  \item if $\SGradynt{A} =  \SGradynt{A_{{\mathrm{1}}}}  \times  \SGradynt{B_{{\mathrm{1}}}} $, then
    $\SGradynt{B} = \SGradysym{\mbox{?}}$ and $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $, or $\SGradynt{B} =  \SGradynt{A_{{\mathrm{2}}}}  \times  \SGradynt{B_{{\mathrm{2}}}} $, $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A_{{\mathrm{2}}}} $, and $ \SGradynt{B_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{B_{{\mathrm{2}}}} $.
  \item if $\SGradynt{A} =  \mathsf{List}\, \SGradynt{A_{{\mathrm{1}}}} $, then
    $\SGradynt{B} = \SGradysym{\mbox{?}}$ and $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $, or $\SGradynt{B} =  \mathsf{List}\, \SGradynt{A_{{\mathrm{2}}}} $ and $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A_{{\mathrm{2}}}} $.
  \item if $\SGradynt{A} =  \forall ( \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{A_{{\mathrm{1}}}} ).  \SGradynt{B_{{\mathrm{1}}}} $, then
    $\SGradynt{B} =  \forall ( \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{A_{{\mathrm{1}}}} ).  \SGradynt{B_{{\mathrm{1}}}} $ and $ \SGradynt{B_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{B_{{\mathrm{2}}}} $.
  \end{enumR}
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction on the form of $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $.
\end{proof}

\begin{lemma}[Inversion for Term Precision]
  \label{lemma:inversion_of_term_precision}
  Suppose $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $. Then:
  \begin{enumR}
  \item if $\SGradynt{t} = \mathsf{succ} \, \SGradynt{t_{{\mathrm{1}}}}$, then $\SGradynt{t'} = \mathsf{succ} \, \SGradynt{t_{{\mathrm{2}}}}$ and $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t_{{\mathrm{2}}}} $.
  \item if $\SGradynt{t} = \SGradysym{(}   \mathsf{case}\, \SGradynt{t_{{\mathrm{1}}}} \,\mathsf{of}\, \SGradysym{0}  \to  \SGradynt{t_{{\mathrm{2}}}} ,  \SGradysym{(}  \mathsf{succ} \, \SGradymv{x}  \SGradysym{)}  \to  \SGradynt{t_{{\mathrm{3}}}}   \SGradysym{)}$, then
    $\SGradynt{t'} = \SGradysym{(}   \mathsf{case}\, \SGradynt{t'_{{\mathrm{1}}}} \,\mathsf{of}\, \SGradysym{0}  \to  \SGradynt{t'_{{\mathrm{2}}}} ,  \SGradysym{(}  \mathsf{succ} \, \SGradymv{x}  \SGradysym{)}  \to  \SGradynt{t'_{{\mathrm{3}}}}   \SGradysym{)}$, $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $, $ \SGradynt{t_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{2}}}} $, and $ \SGradynt{t_{{\mathrm{3}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{3}}}} $.
  \item if $\SGradynt{t} = \SGradysym{(}  \SGradynt{t_{{\mathrm{1}}}}  \SGradysym{,}  \SGradynt{t_{{\mathrm{2}}}}  \SGradysym{)}$, then $\SGradynt{t'} = \SGradysym{(}  \SGradynt{t'_{{\mathrm{1}}}}  \SGradysym{,}  \SGradynt{t'_{{\mathrm{2}}}}  \SGradysym{)}$, $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $, and $ \SGradynt{t_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{2}}}} $.
  \item if $\SGradynt{t} = \mathsf{fst} \, \SGradynt{t_{{\mathrm{1}}}}$, then $\SGradynt{t'} = \mathsf{fst} \, \SGradynt{t'_{{\mathrm{1}}}}$ and $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $.
  \item if $\SGradynt{t} = \mathsf{snd} \, \SGradynt{t_{{\mathrm{1}}}}$, then $\SGradynt{t'} = \mathsf{snd} \, \SGradynt{t'_{{\mathrm{1}}}}$ and $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $.
  \item if $\SGradynt{t} =  \SGradynt{t_{{\mathrm{1}}}}  ::  \SGradynt{t_{{\mathrm{2}}}} $, then $\SGradynt{t'} =  \SGradynt{t'_{{\mathrm{1}}}}  ::  \SGradynt{t'_{{\mathrm{2}}}} $, $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $, and $ \SGradynt{t_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{2}}}} $.
  \item if $\SGradynt{t} = \SGradysym{(}   \mathsf{case}\, \SGradynt{t_{{\mathrm{1}}}} \,\mathsf{of}\, \SGradysym{[]}  \to  \SGradynt{t_{{\mathrm{2}}}} ,  \SGradysym{(}   \SGradymv{x}  ::  \SGradymv{y}   \SGradysym{)}  \to  \SGradynt{t_{{\mathrm{3}}}}   \SGradysym{)}$, then
    $\SGradynt{t'} = \SGradysym{(}   \mathsf{case}\, \SGradynt{t'_{{\mathrm{1}}}} \,\mathsf{of}\, \SGradysym{[]}  \to  \SGradynt{t'_{{\mathrm{2}}}} ,  \SGradysym{(}   \SGradymv{x}  ::  \SGradymv{y}   \SGradysym{)}  \to  \SGradynt{t'_{{\mathrm{3}}}}   \SGradysym{)}$, $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $, $ \SGradynt{t_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{2}}}} $, and $ \SGradynt{t_{{\mathrm{3}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{3}}}} $.
  \item if $\SGradynt{t} =  \lambda ( \SGradymv{x}  :  \SGradynt{A_{{\mathrm{1}}}} ) .  \SGradynt{t_{{\mathrm{1}}}} $, then $\SGradynt{t'} =  \lambda ( \SGradymv{x}  :  \SGradynt{A_{{\mathrm{1}}}} ) .  \SGradynt{t'_{{\mathrm{1}}}} $ and $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $.
  \item if $\SGradynt{t} = \SGradysym{(}  \SGradynt{t_{{\mathrm{1}}}} \, \SGradynt{t_{{\mathrm{2}}}}  \SGradysym{)}$, then $\SGradynt{t'} = \SGradysym{(}  \SGradynt{t'_{{\mathrm{1}}}} \, \SGradynt{t'_{{\mathrm{2}}}}  \SGradysym{)}$, $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $, and $ \SGradynt{t_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{2}}}} $.
  \item if $\SGradynt{t} =  \Lambda ( \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{A_{{\mathrm{1}}}} ) . \SGradynt{t_{{\mathrm{1}}}} $, then $\SGradynt{t'} =  \Lambda ( \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{A_{{\mathrm{1}}}} ) . \SGradynt{t'_{{\mathrm{1}}}} $ and $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $.
  \item if $\SGradynt{t} =  [  \SGradynt{A}  ]  \SGradynt{t_{{\mathrm{1}}}} $, then $\SGradynt{t'} =  [  \SGradynt{A}  ]  \SGradynt{t'_{{\mathrm{1}}}} $ and $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $.
  \end{enumR}
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction on the form of $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $.
\end{proof}

\begin{lemma}[Inversion for Type Consistency]
  \label{lemma:inversion_of_type_consistency}
  Suppose $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $. Then:
  \begin{enumR}
  \item if $\SGradynt{A} = \SGradysym{\mbox{?}}$, then $ \Gamma  \vdash  \SGradynt{B}  \lesssim   \mathbb{S}  $.
  \item if $\SGradynt{A} =  \mathsf{List}\, \SGradynt{A'} $, then $\SGradynt{B} = \SGradysym{\mbox{?}}$ and $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $, or
    $\SGradynt{B} =  \mathsf{List}\, \SGradynt{B'} $ and $ \Gamma  \vdash  \SGradynt{A'}  \sim  \SGradynt{B'} $.
  \item if $\SGradynt{A} = \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}}$, then $\SGradynt{B} = \SGradysym{\mbox{?}}$ and $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $, or
    $\SGradynt{B} = \SGradynt{A_{{\mathrm{2}}}}  \rightarrow  \SGradynt{B_{{\mathrm{2}}}}$, $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \sim  \SGradynt{A_{{\mathrm{1}}}} $, and $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \sim  \SGradynt{B_{{\mathrm{2}}}} $.
  \item if $\SGradynt{A} = \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}}$, then $\SGradynt{B} = \SGradysym{\mbox{?}}$ and $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $, or
    $\SGradynt{B} = \SGradynt{A_{{\mathrm{2}}}}  \rightarrow  \SGradynt{B_{{\mathrm{2}}}}$, $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \sim  \SGradynt{A_{{\mathrm{1}}}} $, and $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \sim  \SGradynt{B_{{\mathrm{2}}}} $.
  \item if $\SGradynt{A} =  \SGradynt{A_{{\mathrm{1}}}}  \times  \SGradynt{B_{{\mathrm{1}}}} $, then $\SGradynt{B} = \SGradysym{\mbox{?}}$ and $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $, or
    $\SGradynt{B} =  \SGradynt{A_{{\mathrm{2}}}}  \times  \SGradynt{B_{{\mathrm{2}}}} $, $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A_{{\mathrm{2}}}} $, and $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \sim  \SGradynt{B_{{\mathrm{2}}}} $.
  \item if $\SGradynt{A} =  \forall ( \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{A_{{\mathrm{1}}}} ).  \SGradynt{B_{{\mathrm{1}}}} $, then $\SGradynt{B} =  \forall ( \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{A_{{\mathrm{1}}}} ).  \SGradynt{B_{{\mathrm{2}}}} $ and $  \Gamma , \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{A_{{\mathrm{1}}}}   \vdash  \SGradynt{B_{{\mathrm{1}}}}  \sim  \SGradynt{B_{{\mathrm{2}}}} $.
  \end{enumR}
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction on the the form of $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $.
\end{proof}

\begin{lemma}[Inversion for Consistent Subtyping]
  \label{lemma:inversion_of_consistent_subtyping}
  Suppose $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $. Then:
  \begin{enumR}
  \item if $\SGradynt{A} = \SGradysym{\mbox{?}}$, then
    $\SGradynt{B} = \SGradynt{A}$ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{B} =  \top $ or $ \Gamma  \vdash  \SGradynt{B}  \lesssim   \mathbb{S}  $.
  \item if $\SGradynt{A} = \SGradymv{X}$, then
    $\SGradynt{B} = \SGradynt{A}$ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{B} =  \top $ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, or $ \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{B'}  \in  \Gamma $ and $ \Gamma  \vdash  \SGradynt{B'}  \sim  \SGradynt{B} $.
  \item if $\SGradynt{A} =  \mathsf{Nat} $, then
    $\SGradynt{B} = \SGradynt{A}$ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{B} =  \top $ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, or $\SGradynt{B} =  \mathbb{S} $.
  \item if $\SGradynt{A} =  \mathsf{Unit} $, then
    $\SGradynt{B} = \SGradynt{A}$ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{B} =  \top $ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, or $\SGradynt{B} =  \mathbb{S} $.
  \item if $\SGradynt{A} =  \mathsf{List}\, \SGradynt{A_{{\mathrm{1}}}} $, then
    $\SGradynt{B} = \SGradynt{A}$ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{B} =  \top $ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{B} =  \mathbb{S} $ and $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \lesssim   \mathbb{S}  $,
    or $\SGradynt{B} =  \mathsf{List}\, \SGradynt{A'_{{\mathrm{1}}}} $ and $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \lesssim  \SGradynt{A'_{{\mathrm{1}}}} $.
  \item if $\SGradynt{A} = \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}}$, then
    $\SGradynt{B} = \SGradynt{A}$ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{B} =  \top $ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{B} =  \mathbb{S} $, $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \lesssim   \mathbb{S}  $ and
    $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \lesssim   \mathbb{S}  $, or $\SGradynt{B} = \SGradynt{A'_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B'_{{\mathrm{1}}}}$, $ \Gamma  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \lesssim  \SGradynt{A_{{\mathrm{1}}}} $, and $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \lesssim  \SGradynt{B'_{{\mathrm{1}}}} $.
  \item if $\SGradynt{A} =  \SGradynt{A_{{\mathrm{1}}}}  \times  \SGradynt{B_{{\mathrm{1}}}} $, then
    $\SGradynt{B} = \SGradynt{A}$ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{B} =  \top $ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{B} =  \mathbb{S} $, $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \lesssim   \mathbb{S}  $ and
    $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \lesssim   \mathbb{S}  $, or $\SGradynt{B} =  \SGradynt{A'_{{\mathrm{1}}}}  \times  \SGradynt{B'_{{\mathrm{1}}}} $, $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \lesssim  \SGradynt{A'_{{\mathrm{1}}}} $, and $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \lesssim  \SGradynt{B'_{{\mathrm{1}}}} $.
  \item if $\SGradynt{A} =  \forall ( \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{A_{{\mathrm{1}}}} ).  \SGradynt{B_{{\mathrm{1}}}} $, then
    $\SGradynt{B} = \SGradynt{A}$ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{B} =  \top $ and $ \Gamma  \vdash  \SGradynt{A}  : \star $,
    or $\SGradynt{B} =  \forall ( \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{A_{{\mathrm{1}}}} ).  \SGradynt{B'_{{\mathrm{1}}}} $ and $  \Gamma , \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{A_{{\mathrm{1}}}}   \vdash  \SGradynt{B_{{\mathrm{1}}}}  \lesssim  \SGradynt{B'_{{\mathrm{1}}}} $.
  \end{enumR}
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction on the the form of $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $.
\end{proof}

\begin{lemma}
  \label{lemma:consistent-subtyping-1}
  Suppose $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $.
  \begin{enumR}
    \item $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{A'} $ and $[[G |- A' <: B]]$ for some $\SGradynt{A'}$.
    \item $ \Gamma  \vdash  \SGradynt{B'}  \sim  \SGradynt{B} $ and $[[G |- A <: B']]$ for some $\SGradynt{B'}$.
  \end{enumR}   
\end{lemma}
\begin{proof}
  This is a proof by induction on $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $.  We only show a
  few of the most interesting cases.
  \begin{itemize}
  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleSXXBoxName{}$] {
           \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  
        }{ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradysym{\mbox{?}} }
      \end{math}
    \end{center}
    In this case $\SGradynt{B} = \SGradysym{\mbox{?}}$.

    \noindent
    \textbf{Part i.} Choose $\SGradynt{A'} = \SGradysym{\mbox{?}}$.

    \noindent
    \textbf{Part ii.} Choose $\SGradynt{B'} = \SGradynt{A}$.

  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleSXXUnboxName{}$] {
           \Gamma  \vdash  \SGradynt{B}  \lesssim   \mathbb{S}  
        }{ \Gamma  \vdash  \SGradysym{\mbox{?}}  \lesssim  \SGradynt{B} }
      \end{math}
    \end{center}
    In this case $\SGradynt{A} = \SGradysym{\mbox{?}}$.

    \noindent
    \textbf{Part i.} Choose $\SGradynt{A'} = \SGradynt{B}$.

    \noindent
    \textbf{Part ii.} Choose $\SGradynt{B'} = \SGradysym{\mbox{?}}$.

  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleSXXArrowName{}$] {
            \Gamma  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \lesssim  \SGradynt{A_{{\mathrm{1}}}}   \quad   \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \lesssim  \SGradynt{B_{{\mathrm{2}}}}  
        }{ \Gamma  \vdash  \SGradysym{(}  \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}}  \SGradysym{)}  \lesssim  \SGradysym{(}  \SGradynt{A_{{\mathrm{2}}}}  \rightarrow  \SGradynt{B_{{\mathrm{2}}}}  \SGradysym{)} }
      \end{math}
    \end{center}

    In this case $\SGradynt{A} = \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}}$ and $\SGradynt{B} = \SGradynt{A_{{\mathrm{2}}}}  \rightarrow  \SGradynt{B_{{\mathrm{2}}}}$.

    \noindent
    \textbf{Part i.} By part two of the induction hypothesis we know
    that $ \Gamma  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \sim  \SGradynt{A_{{\mathrm{1}}}} $ and $[[G |- A2 <: A1']]$, and by part one of the induction hypothesis
    $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \sim  \SGradynt{B'_{{\mathrm{1}}}} $ and $[[G |- B1' <: B2]]$.  By symmetry of type consistency
    we may conclude that $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A'_{{\mathrm{1}}}} $ which along with $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \sim  \SGradynt{B'_{{\mathrm{1}}}} $
    implies that $ \Gamma  \vdash  \SGradysym{(}  \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}}  \SGradysym{)}  \sim  \SGradysym{(}  \SGradynt{A'_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B'_{{\mathrm{1}}}}  \SGradysym{)} $, and by reapplying the rule
    we may conclude that $[[G |- (A1' -> B1') <: (A2 -> B2)]]$.

    \noindent
    \textbf{Part ii.} Similar to part one, except that we first
    applying part one of the induction hypothesis to the first
    premise, and then the second part to the second premise.
    
  \end{itemize}

\end{proof}

\begin{lemma}
  \label{lemma:consistent-subtyping-2}
  If $[[G |- A <: B]]$, then $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $.
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction on $[[G |- A <: B]]$.
\end{proof}

\begin{lemma}
  \label{lemma:consistent-subtyping-3}
  if $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $, then $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $.
\end{lemma}
\begin{proof}
  By straightforward induction on $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $.
\end{proof}

\begin{lemma}[Type Precision and Consistency]
  \label{lemma:type_precision_and_consistency}
  Suppose $ \Gamma  \vdash  \SGradynt{A}  : \star $ and $ \Gamma  \vdash  \SGradynt{B}  : \star $.  Then
  if $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $, then $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $.
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction on $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $.
\end{proof}

\begin{corollary}[Type Precision and Subtyping]
  \label{corollary:type_precision_and_subtyping}
  Suppose $ \Gamma  \vdash  \SGradynt{A}  : \star $ and $ \Gamma  \vdash  \SGradynt{B}  : \star $.  Then
  if $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $, then $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $.
\end{corollary}
\begin{proof}
  This easily follows from the previous two lemmas.
\end{proof}

\begin{corollary}[Consistent Subtyping]
  \label{corollary:consistent_subtyping}
  \begin{enumR}
  \item[]
  \item $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $ if and only if $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{A'} $ and $[[G |- A' <: B]]$ for some $\SGradynt{A'}$.
  \item $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $ if and only if $ \Gamma  \vdash  \SGradynt{B'}  \sim  \SGradynt{B} $ and $[[G |- A <: B']]$ for some $\SGradynt{B'}$.
  \end{enumR}
\end{corollary}
\begin{proof}
  The left-to-right direction of both cases easily follows from
  Lemma~\ref{lemma:consistent-subtyping-1}, and the right-to-left
  direction of both cases follows from induction on the subtyping
  derivation and Lemma~\ref{lemma:simply_typed_consistent_types_are_subtypes}.
\end{proof}

\begin{lemma}
  \label{lemma:type_precision_triangle_consistenty}
  Suppose $ \Gamma  \vdash  \SGradynt{A}  : \star $, $ \Gamma  \vdash  \SGradynt{B}  : \star $, and $ \Gamma  \vdash  \SGradynt{C}  : \star $.
  If $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $ and $ \SGradynt{A}  \sqsubseteq  \SGradynt{C} $, then $ \Gamma  \vdash  \SGradynt{B}  \sim  \SGradynt{C} $.
\end{lemma}
\begin{proof}
  It must be the case that either $ \SGradynt{B}  \sqsubseteq  \SGradynt{C} $ or $ \SGradynt{C}  \sqsubseteq  \SGradynt{B} $, but in both cases
  we know $ \Gamma  \vdash  \SGradynt{B}  \sim  \SGradynt{C} $ by Lemma~\ref{lemma:type_precision_and_consistency}.
\end{proof}

\begin{lemma}[Transitivity for Type Precision]
  \label{lemma:transitivity_for_type_precision}
  If $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $ and $ \SGradynt{B}  \sqsubseteq  \SGradynt{C} $, then $ \SGradynt{A}  \sqsubseteq  \SGradynt{C} $.
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction on $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $ with
  a case analysis over $ \SGradynt{B}  \sqsubseteq  \SGradynt{C} $.
\end{proof}

\begin{lemma}
  \label{lemma:type_consistency_to_type_precision}
  If $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $, then $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $ or $ \SGradynt{B}  \sqsubseteq  \SGradynt{A} $.
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction over $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $.
\end{proof}

\begin{lemma}
  \label{lemma:cons_subtype_to_type_pre}
  If $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $ and $ \SGradynt{A}  \sqsubseteq  \SGradynt{A'} $, then $ \SGradynt{B}  \sqsubseteq  \SGradynt{A'} $ or $ \SGradynt{A'}  \sqsubseteq  \SGradynt{B} $.
\end{lemma}
\begin{proof}
  Suppose $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $ and $ \SGradynt{A}  \sqsubseteq  \SGradynt{A'} $.  The former implies
  that $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $ or $ \SGradynt{B}  \sqsubseteq  \SGradynt{A} $ by
  Lemma~\ref{lemma:consistent-subtyping-1} and
  Lemma~\ref{lemma:type_consistency_to_type_precision}.  At this
  point the result easily follows.
\end{proof}

\begin{lemma}
  \label{lemma:fun_type_pre}
  Suppose $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $.  Then
  \begin{enumR}
  \item If $ \mathsf{nat}( \SGradynt{A} ) =   \mathsf{Nat}  $, then $ \mathsf{nat}( \SGradynt{B} ) =   \mathsf{Nat}  $.    
  \item If $ \mathsf{list}( \SGradynt{A} ) =   \mathsf{List}\, \SGradynt{C}  $, then $ \mathsf{list}( \SGradynt{B} ) =   \mathsf{List}\, \SGradynt{C'}  $ and $ \SGradynt{C}  \sqsubseteq  \SGradynt{C'} $.
  \item If $ \mathsf{fun}( \SGradynt{A} ) =  \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{A_{{\mathrm{2}}}} $, then $ \mathsf{fun}( \SGradynt{B} ) =  \SGradynt{A'_{{\mathrm{1}}}}  \rightarrow  \SGradynt{A'_{{\mathrm{2}}}} $, $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{1}}}} $, and $ \SGradynt{A_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{2}}}} $.
  \end{enumR}
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction on $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $.
\end{proof}

\begin{lemma}
  \label{lemma:type_cons_type_pre_2}
  If $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $, $ \Gamma  \vdash  \SGradynt{C}  : \star $, and $ \SGradynt{A}  \sqsubseteq  \SGradynt{C} $, then $ \Gamma  \vdash  \SGradynt{C}  \sim  \SGradynt{B} $.
\end{lemma}
\begin{proof}
  Suppose $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $ and $ \SGradynt{A}  \sqsubseteq  \SGradynt{C} $.  Then we know
  that $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $ or $ \SGradynt{B}  \sqsubseteq  \SGradynt{A} $.  If the former, then
  we know that $ \Gamma  \vdash  \SGradynt{C}  \sim  \SGradynt{B} $.  If the latter, then
  we obtain $ \SGradynt{B}  \sqsubseteq  \SGradynt{C} $ by transitivity, and $ \Gamma  \vdash  \SGradynt{B}  \sim  \SGradynt{C} $
  which implies that $ \Gamma  \vdash  \SGradynt{C}  \sim  \SGradynt{B} $ by symmetry.
\end{proof}

\begin{lemma}
  \label{lemma:type_cons_ctx_pre}
  If $ \Gamma' \,\text{Ok} $, $ \Gamma  \sqsubseteq  \Gamma' $ and $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $, then $ \Gamma'  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $.
\end{lemma}
\begin{proof}
  This proof holds by straightforward induction on $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $. 
\end{proof}

\begin{lemma}[Subtyping Context Precision]
  \label{lemma:subtyping_context_precision}
  If $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $ and $ \Gamma  \sqsubseteq  \Gamma' $, then $ \Gamma'  \vdash  \SGradynt{A}  \lesssim  \SGradynt{B} $.
\end{lemma}
\begin{proof}
  Context precision does not manipulate the bounds on type variables, and thus,
  with respect to subtyping $\Gamma$ and $\Gamma'$ are essentially equivalent.
\end{proof}

\begin{lemma}[Simply Typed Consistent Types are Subtypes of $ \mathbb{S} $]
  \label{lemma:simply_typed_consistent_types_are_subtypes}
  If $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $ and $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{B} $, then $ \Gamma  \vdash  \SGradynt{B}  \lesssim   \mathbb{S}  $.
\end{lemma}
\begin{proof}
  This holds by straightforward induction on the form of $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $.
\end{proof}

\begin{lemma}[Type Precision Preserves $ \mathbb{S} $]
  \label{lemma:type_precision_preserves_SL}
  \begin{enumR}
  \item[]
  \item If $ \Gamma  \vdash  \SGradynt{B}  : \star $, $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $ and $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $, then $ \Gamma  \vdash  \SGradynt{B}  \lesssim   \mathbb{S}  $.
  \item If $ \Gamma  \vdash  \SGradynt{A}  : \star $, $ \Gamma  \vdash  \SGradynt{B}  \lesssim   \mathbb{S}  $ and $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $, then $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $.
  \end{enumR}
\end{lemma}
\begin{proof}
  Both cases follow by induction on the assumed consistent subtyping
  derivation.
\end{proof}

\begin{lemma}[Congruence of Type Consistency Along Type Precision]
  \label{lemma:congruence_of_type_consistency_along_type_precision}
  \begin{enumR}
  \item[] 
  \item If $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{1}}}} $ and $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A_{{\mathrm{2}}}} $ then
    $ \Gamma  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \sim  \SGradynt{A_{{\mathrm{2}}}} $.
    
  \item If $ \SGradynt{A_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{2}}}} $ and $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A_{{\mathrm{2}}}} $ then
    $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A'_{{\mathrm{2}}}} $.  
  \end{enumR}
\end{lemma}
\begin{proof}
  The proofs of both parts are similar, and so we only show a few
  cases of the first part, but the omitted cases follow similarly.

  \noindent
  \textbf{Proof of part one.} This is a proof by induction on the form
  of $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{1}}}} $.
  \begin{itemize}
  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydrulePXXUName{}$] {
           \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \lesssim   \mathbb{S}  
        }{ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradysym{\mbox{?}} }
      \end{math}
    \end{center}
    In this case $\SGradynt{A'_{{\mathrm{1}}}} = \SGradysym{\mbox{?}}$.  Suppose $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A_{{\mathrm{2}}}} $.  Then
    it suffices to show that $ \Gamma  \vdash  \SGradysym{\mbox{?}}  \sim  \SGradynt{A_{{\mathrm{2}}}} $, and hence, we must show
    that $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \lesssim   \mathbb{S}  $, but this follows by Lemma~\ref{lemma:simply_typed_consistent_types_are_subtypes}.

  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydrulePXXarrowName{}$] {
            \SGradynt{A}  \sqsubseteq  \SGradynt{C}   \quad   \SGradynt{B}  \sqsubseteq  \SGradynt{D}  
        }{ \SGradysym{(}  \SGradynt{A}  \rightarrow  \SGradynt{B}  \SGradysym{)}  \sqsubseteq  \SGradysym{(}  \SGradynt{C}  \rightarrow  \SGradynt{D}  \SGradysym{)} }
      \end{math}
    \end{center}
    In this case $\SGradynt{A_{{\mathrm{1}}}} = \SGradynt{A}  \rightarrow  \SGradynt{B}$ and $\SGradynt{A'_{{\mathrm{1}}}} = \SGradynt{C}  \rightarrow  \SGradynt{D}$.  Suppose
    $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A_{{\mathrm{2}}}} $.  Then by inversion for type consistency it must
    be the case that either $\SGradynt{A_{{\mathrm{2}}}} = \SGradysym{\mbox{?}}$ and $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \lesssim   \mathbb{S}  $, or
    $\SGradynt{A_{{\mathrm{2}}}} = \SGradynt{A'}  \rightarrow  \SGradynt{B'}$, $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{A'} $, and $ \Gamma  \vdash  \SGradynt{B}  \sim  \SGradynt{B'} $.
   
    Consider the former.  Then it suffices to show that $ \Gamma  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \sim  \SGradysym{\mbox{?}} $,
    and hence we must show that $ \Gamma  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \lesssim   \mathbb{S}  $, but this follows
    from Lemma~\ref{lemma:type_precision_preserves_SL}.

    Consider the case when $\SGradynt{A_{{\mathrm{2}}}} = \SGradynt{A'}  \rightarrow  \SGradynt{B'}$, $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{A'} $, and $ \Gamma  \vdash  \SGradynt{B}  \sim  \SGradynt{B'} $.
    It suffices to show that $ \Gamma  \vdash  \SGradysym{(}  \SGradynt{C}  \rightarrow  \SGradynt{D}  \SGradysym{)}  \sim  \SGradysym{(}  \SGradynt{A'}  \rightarrow  \SGradynt{B'}  \SGradysym{)} $ which follows from
    $ \Gamma  \vdash  \SGradynt{A'}  \sim  \SGradynt{C} $ and $ \Gamma  \vdash  \SGradynt{D}  \sim  \SGradynt{B'} $.  Thus, it suffices to show that latter.
    By assumption we know the following:
    \begin{center}
      \begin{tabular}{lll}
        $ \SGradynt{A}  \sqsubseteq  \SGradynt{C} $ and $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{A'} $\\
        $ \SGradynt{B}  \sqsubseteq  \SGradynt{D} $ and $ \Gamma  \vdash  \SGradynt{B}  \sim  \SGradynt{B'} $
      \end{tabular}
    \end{center}
    Now by two applications of the induction hypothesis we obtain $ \Gamma  \vdash  \SGradynt{C}  \sim  \SGradynt{A'} $
    and $ \Gamma  \vdash  \SGradynt{D}  \sim  \SGradynt{B'} $. By symmetry the former implies $ \Gamma  \vdash  \SGradynt{A}  \sim  \SGradynt{C} $ and
    we obtain our result.
  \end{itemize}  
\end{proof}

\begin{corollary}[Congruence of Type Consistency Along Type Precision Condensed]
  \label{corollary:congruence_of_type_consistency_along_type_precision}
  If $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{1}}}} $, $ \SGradynt{A_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{2}}}} $, and $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A_{{\mathrm{2}}}} $ then
  $ \Gamma  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \sim  \SGradynt{A'_{{\mathrm{2}}}} $.  
\end{corollary}

\begin{lemma}[Congruence of Subtyping Along Type Precision]
  \label{lemma:congruence_of_subtyping_along_type_precision}
  Suppose $ \Gamma  \vdash  \SGradynt{B}  : \star $ and $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $.
  \begin{enumR}
  \item If $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{C} $ then $ \Gamma  \vdash  \SGradynt{B}  \lesssim  \SGradynt{C} $.

  \item If $ \Gamma  \vdash  \SGradynt{C}  \lesssim  \SGradynt{A} $ then $ \Gamma  \vdash  \SGradynt{C}  \lesssim  \SGradynt{B} $.  
  \end{enumR}
\end{lemma}
\begin{proof}
  This is a proof by induction on the form of $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $.  The proof
  of part two follows similarly to part one.
  
  \noindent
  \textbf{Proof of part one.}  We only show the most interesting case,
  because all others are similar.
  \begin{itemize}    

  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydrulePXXarrowName{}$] {
            \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A_{{\mathrm{2}}}}   \quad   \SGradynt{B_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{B_{{\mathrm{2}}}}  
        }{ \SGradysym{(}  \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}}  \SGradysym{)}  \sqsubseteq  \SGradysym{(}  \SGradynt{A_{{\mathrm{2}}}}  \rightarrow  \SGradynt{B_{{\mathrm{2}}}}  \SGradysym{)} }
      \end{math}
    \end{center}
    In this case $\SGradynt{A} = \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}}$ and $\SGradynt{B} = \SGradynt{A_{{\mathrm{2}}}}  \rightarrow  \SGradynt{B_{{\mathrm{2}}}}$.
    Suppose $ \Gamma  \vdash  \SGradynt{A}  \lesssim  \SGradynt{C} $.  Thus, by inversion for consistency subtyping
    it must be the case that $\SGradynt{C} =  \top $ and $ \Gamma  \vdash  \SGradynt{A}  : \star $, $\SGradynt{C} = \SGradysym{\mbox{?}}$ and $ \Gamma  \vdash  \SGradynt{A}  \lesssim   \mathbb{S}  $, or
    $\SGradynt{C} = \SGradynt{A'_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B'_{{\mathrm{1}}}}$, $ \Gamma  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \lesssim  \SGradynt{A_{{\mathrm{1}}}} $, and $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \lesssim  \SGradynt{B'_{{\mathrm{1}}}} $.  The case when $\SGradynt{C} =  \top $
    is trivial, and the case when $\SGradynt{C} = \SGradysym{\mbox{?}}$ is similarly to the proof of
    Lemma~\ref{lemma:congruence_of_type_consistency_along_type_precision}.

    Consider the case when $\SGradynt{C} = \SGradynt{A'_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B'_{{\mathrm{1}}}}$, $ \Gamma  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \lesssim  \SGradynt{A_{{\mathrm{1}}}} $, and $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \lesssim  \SGradynt{B'_{{\mathrm{1}}}} $.
    By assumption we know the following:
    \begin{center}
      \begin{tabular}{lll}
        $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A_{{\mathrm{2}}}} $ and $ \Gamma  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \lesssim  \SGradynt{A_{{\mathrm{1}}}} $\\
        $ \SGradynt{B_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{B_{{\mathrm{2}}}} $ and $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{1}}}}  \lesssim  \SGradynt{B'_{{\mathrm{1}}}} $
      \end{tabular}
    \end{center}
    So by part two and one, respectively, of the induction hypothesis we know
    that $ \Gamma  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \lesssim  \SGradynt{A_{{\mathrm{2}}}} $ and $ \Gamma  \vdash  \SGradynt{B_{{\mathrm{2}}}}  \lesssim  \SGradynt{B'_{{\mathrm{1}}}} $.  Thus, by reapplying the rule above
    we may now conclude that $ \Gamma  \vdash  \SGradysym{(}  \SGradynt{A_{{\mathrm{2}}}}  \rightarrow  \SGradynt{B_{{\mathrm{2}}}}  \SGradysym{)}  \lesssim  \SGradysym{(}  \SGradynt{A'_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B'_{{\mathrm{2}}}}  \SGradysym{)} $ to obtain our result.
  \end{itemize}
\end{proof}

\begin{corollary}[Congruence of Subtyping Along Type Precision]
  \label{corollary:congruence_of_subtyping_along_type_precision}
  If $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A_{{\mathrm{2}}}} $, $ \SGradynt{B_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{B_{{\mathrm{2}}}} $, and $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \lesssim  \SGradynt{B_{{\mathrm{1}}}} $, then $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \lesssim  \SGradynt{B_{{\mathrm{2}}}} $.
\end{corollary}

\begin{lemma}[Gradual Guarantee Part One]
  \label{lemma:gradual_guarantee_part_one}
  If $ \Gamma  \vdash  \SGradynt{t}  :  \SGradynt{A} $, $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $, and $ \Gamma  \sqsubseteq  \Gamma' $ then $ \Gamma'  \vdash  \SGradynt{t'}  :  \SGradynt{B} $ and $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $.
\end{lemma}
\begin{proof}
  This is a proof by induction on $ \Gamma  \vdash  \SGradynt{t}  :  \SGradynt{A} $.

  \begin{itemize}
  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleTXXvarPName{}$] {
           \SGradymv{x}  \SGradysym{:}  \SGradynt{A} \, \in \, \Gamma  \quad   \Gamma \,\text{Ok}  
        }{ \Gamma  \vdash  \SGradymv{x}  :  \SGradynt{A} }
      \end{math}
    \end{center}
    In this case $\SGradynt{t} = \SGradymv{x}$.  Suppose $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $.  Then
    it must be the case that $\SGradynt{t'} = \SGradymv{x}$.  If $\SGradymv{x}  \SGradysym{:}  \SGradynt{A} \, \in \, \Gamma$,
    then there is a type $\SGradynt{A'}$ such that $\SGradymv{x}  \SGradysym{:}  \SGradynt{A'} \, \in \, \Gamma'$ and
    $ \SGradynt{A}  \sqsubseteq  \SGradynt{A'} $.  Thus, choose $\SGradynt{B} = \SGradynt{A'}$ and the result follows.

  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleTXXsuccName{}$] {
            \Gamma  \vdash  \SGradynt{t_{{\mathrm{1}}}}  :  \SGradynt{A'}   \quad   \mathsf{nat}( \SGradynt{A'} ) =   \mathsf{Nat}   
        }{ \Gamma  \vdash  \mathsf{succ} \, \SGradynt{t_{{\mathrm{1}}}}  :   \mathsf{Nat}  }
      \end{math}
    \end{center}
    In this case $\SGradynt{A} =  \mathsf{Nat} $ and $\SGradynt{t} = \mathsf{succ} \, \SGradynt{t_{{\mathrm{1}}}}$.  Suppose $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $ and $ \Gamma  \sqsubseteq  \Gamma' $.
    Then by definition it must be the case that $\SGradynt{t'} = \mathsf{succ} \, \SGradynt{t_{{\mathrm{2}}}}$ where $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t_{{\mathrm{2}}}} $.
    By the induction hypothesis $ \Gamma'  \vdash  \SGradynt{t_{{\mathrm{2}}}}  :  \SGradynt{B'} $ where $ \SGradynt{A'}  \sqsubseteq  \SGradynt{B'} $.  Since $ \mathsf{nat}( \SGradynt{A'} ) =   \mathsf{Nat}  $
    and $ \SGradynt{A'}  \sqsubseteq  \SGradynt{B'} $, then it must be the case that $ \mathsf{nat}( \SGradynt{B'} ) =   \mathsf{Nat}  $ by Lemma~\ref{lemma:fun_type_pre}.
    At this point we obtain our result by choosing $\SGradynt{B} =  \mathsf{Nat} $, and reapplying the rule above.

  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleTXXncaseName{}$] {
              \Gamma  \vdash  \SGradynt{t_{{\mathrm{1}}}}  :  \SGradynt{C}   \quad   \mathsf{nat}( \SGradynt{C} ) =   \mathsf{Nat}      \quad   \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A}  
          \\\\
              \Gamma  \vdash  \SGradynt{t_{{\mathrm{2}}}}  :  \SGradynt{A_{{\mathrm{1}}}}   \quad   \Gamma  \SGradysym{,}  \SGradymv{x}  \SGradysym{:}   \mathsf{Nat}   \vdash  \SGradynt{t_{{\mathrm{3}}}}  :  \SGradynt{A_{{\mathrm{2}}}}     \quad   \Gamma  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \sim  \SGradynt{A}  
        }{ \Gamma  \vdash   \mathsf{case}\, \SGradynt{t_{{\mathrm{1}}}} \,\mathsf{of}\, \SGradysym{0}  \to  \SGradynt{t_{{\mathrm{2}}}} ,  \SGradysym{(}  \mathsf{succ} \, \SGradymv{x}  \SGradysym{)}  \to  \SGradynt{t_{{\mathrm{3}}}}   :  \SGradynt{A} }
      \end{math}
    \end{center}
    In this case $\SGradynt{t} =  \mathsf{case}\, \SGradynt{t_{{\mathrm{1}}}} \,\mathsf{of}\, \SGradysym{0}  \to  \SGradynt{t_{{\mathrm{2}}}} ,  \SGradysym{(}  \mathsf{succ} \, \SGradymv{x}  \SGradysym{)}  \to  \SGradynt{t_{{\mathrm{3}}}} $.  Suppose $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $ and $ \Gamma  \sqsubseteq  \Gamma' $.  This
    implies that $\SGradynt{t'} =  \mathsf{case}\, \SGradynt{t'_{{\mathrm{1}}}} \,\mathsf{of}\, \SGradysym{0}  \to  \SGradynt{t'_{{\mathrm{2}}}} ,  \SGradysym{(}  \mathsf{succ} \, \SGradymv{x}  \SGradysym{)}  \to  \SGradynt{t'_{{\mathrm{3}}}} $ such that
    $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $, $ \SGradynt{t_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{2}}}} $, and $ \SGradynt{t_{{\mathrm{3}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{3}}}} $.  Since $ \Gamma  \sqsubseteq  \Gamma' $ then $ \SGradysym{(}  \Gamma  \SGradysym{,}  \SGradymv{x}  \SGradysym{:}   \mathsf{Nat}   \SGradysym{)}  \sqsubseteq  \SGradysym{(}  \Gamma'  \SGradysym{,}  \SGradymv{x}  \SGradysym{:}   \mathsf{Nat}   \SGradysym{)} $.
    By the induction hypothesis we know the following:
    \begin{center}
      \begin{tabular}{lll}
        $ \Gamma'  \vdash  \SGradynt{t'_{{\mathrm{1}}}}  :  \SGradynt{C'} $ for $ \SGradynt{C}  \sqsubseteq  \SGradynt{C'} $\\
        $ \Gamma'  \vdash  \SGradynt{t_{{\mathrm{2}}}}  :  \SGradynt{A'_{{\mathrm{1}}}} $ for $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{1}}}} $\\
        $ \Gamma'  \SGradysym{,}  \SGradymv{x}  \SGradysym{:}   \mathsf{Nat}   \vdash  \SGradynt{t_{{\mathrm{3}}}}  :  \SGradynt{A'_{{\mathrm{2}}}} $ for $ \SGradynt{A_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{2}}}} $
      \end{tabular}
    \end{center}
    By assumption we know that $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A} $, $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \sim  \SGradynt{A} $, and $ \Gamma  \sqsubseteq  \Gamma' $,
    hence, by Lemma~\ref{lemma:type_cons_ctx_pre} we know $ \Gamma'  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A} $ and $ \Gamma'  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \sim  \SGradynt{A} $.  
    By the induction hypothesis we know that $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{1}}}} $ and $ \SGradynt{A_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{2}}}} $, so
    by using Lemma~\ref{lemma:type_cons_type_pre_2} we may obtain that
    $ \Gamma'  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \sim  \SGradynt{A} $ and $ \Gamma'  \vdash  \SGradynt{A'_{{\mathrm{2}}}}  \sim  \SGradynt{A} $.  At this point choose $\SGradynt{B} = \SGradynt{A}$
    and we obtain our result by reapplying the rule.
    
  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleTXXconsName{}$] {
                \Gamma  \vdash  \SGradynt{t_{{\mathrm{1}}}}  :  \SGradynt{A_{{\mathrm{1}}}}   \quad   \Gamma  \vdash  \SGradynt{t_{{\mathrm{2}}}}  :  \SGradynt{A_{{\mathrm{2}}}}     \quad   \mathsf{list}( \SGradynt{A_{{\mathrm{2}}}} ) =   \mathsf{List}\, \SGradynt{A_{{\mathrm{3}}}}      \quad   \Gamma  \vdash  \SGradynt{A_{{\mathrm{1}}}}  \sim  \SGradynt{A_{{\mathrm{3}}}}  
        }{ \Gamma  \vdash   \SGradynt{t_{{\mathrm{1}}}}  ::  \SGradynt{t_{{\mathrm{2}}}}   :   \mathsf{List}\, \SGradynt{A_{{\mathrm{3}}}}  }
      \end{math}
    \end{center}
    In this case $\SGradynt{A} =  \mathsf{List}\, \SGradynt{A_{{\mathrm{3}}}} $ and $\SGradynt{t} =  \SGradynt{t_{{\mathrm{1}}}}  ::  \SGradynt{t_{{\mathrm{2}}}} $.  Suppose $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $ and $ \Gamma  \sqsubseteq  \Gamma' $.
    Then it must be the case that $\SGradynt{t'} =  \SGradynt{t'_{{\mathrm{1}}}}  ::  \SGradynt{t'_{{\mathrm{2}}}} $ where $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $ and
    $ \SGradynt{t_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{2}}}} $.  Then by the induction hypothesis we know the following:
    \begin{center}
      \begin{tabular}{lll}
        $ \Gamma'  \vdash  \SGradynt{t'_{{\mathrm{1}}}}  :  \SGradynt{A'_{{\mathrm{1}}}} $ where $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{1}}}} $\\
        $ \Gamma'  \vdash  \SGradynt{t'_{{\mathrm{2}}}}  :  \SGradynt{A'_{{\mathrm{2}}}} $ where $ \SGradynt{A_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{2}}}} $\\
      \end{tabular}
    \end{center}
    By Lemma~\ref{lemma:fun_type_pre} $ \mathsf{list}( \SGradynt{A'_{{\mathrm{2}}}} ) =   \mathsf{List}\, \SGradynt{A'_{{\mathrm{3}}}}  $ where $ \SGradynt{A_{{\mathrm{3}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{3}}}} $.
    Now by Lemma~\ref{lemma:type_cons_ctx_pre} and Lemma~\ref{lemma:type_cons_type_pre_2} we know that
    $ \Gamma'  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \sim  \SGradynt{A_{{\mathrm{3}}}} $, and by using the same lemma again, $ \Gamma'  \vdash  \SGradynt{A'_{{\mathrm{1}}}}  \sim  \SGradynt{A'_{{\mathrm{3}}}} $
    because $ \Gamma'  \vdash  \SGradynt{A_{{\mathrm{3}}}}  \sim  \SGradynt{A'_{{\mathrm{1}}}} $ holds by symmetry.  Choose $\SGradynt{B} =  \mathsf{List}\, \SGradynt{A'_{{\mathrm{3}}}} $
    and the result follows.

  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleTXXpairName{}$] {
            \Gamma  \vdash  \SGradynt{t_{{\mathrm{1}}}}  :  \SGradynt{A_{{\mathrm{1}}}}   \quad   \Gamma  \vdash  \SGradynt{t_{{\mathrm{2}}}}  :  \SGradynt{A_{{\mathrm{2}}}}  
        }{ \Gamma  \vdash  \SGradysym{(}  \SGradynt{t_{{\mathrm{1}}}}  \SGradysym{,}  \SGradynt{t_{{\mathrm{2}}}}  \SGradysym{)}  :   \SGradynt{A_{{\mathrm{1}}}}  \times  \SGradynt{A_{{\mathrm{2}}}}  }
      \end{math}
    \end{center}
    In this case $\SGradynt{A} =  \SGradynt{A_{{\mathrm{1}}}}  \times  \SGradynt{A_{{\mathrm{2}}}} $ and $\SGradynt{t} = \SGradysym{(}  \SGradynt{t_{{\mathrm{1}}}}  \SGradysym{,}  \SGradynt{t_{{\mathrm{2}}}}  \SGradysym{)}$. Suppose
    $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $ and $ \Gamma  \sqsubseteq  \Gamma' $.  This implies that $\SGradynt{t'} = \SGradysym{(}  \SGradynt{t'_{{\mathrm{1}}}}  \SGradysym{,}  \SGradynt{t'_{{\mathrm{2}}}}  \SGradysym{)}$ where
    $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $ and $ \SGradynt{t_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{2}}}} $.
    
    By the induction hypothesis we know:
    \begin{center}
      \begin{tabular}{lll}
        $ \Gamma'  \vdash  \SGradynt{t'_{{\mathrm{1}}}}  :  \SGradynt{A'_{{\mathrm{1}}}} $ and $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{1}}}} $\\
        $ \Gamma'  \vdash  \SGradynt{t'_{{\mathrm{2}}}}  :  \SGradynt{A'_{{\mathrm{2}}}} $ and $ \SGradynt{A_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{2}}}} $\\
      \end{tabular}
    \end{center}
    Then choose $\SGradynt{B} =  \SGradynt{A'_{{\mathrm{1}}}}  \times  \SGradynt{A'_{{\mathrm{2}}}} $ and the result follows by reapplying
    the rule above and the fact that $ \SGradysym{(}   \SGradynt{A_{{\mathrm{1}}}}  \times  \SGradynt{A_{{\mathrm{2}}}}   \SGradysym{)}  \sqsubseteq  \SGradysym{(}   \SGradynt{A'_{{\mathrm{1}}}}  \times  \SGradynt{A'_{{\mathrm{2}}}}   \SGradysym{)} $.  

  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleTXXlamName{}$] {
           \Gamma  \SGradysym{,}  \SGradymv{x}  \SGradysym{:}  \SGradynt{A_{{\mathrm{1}}}}  \vdash  \SGradynt{t_{{\mathrm{1}}}}  :  \SGradynt{B_{{\mathrm{1}}}} 
        }{ \Gamma  \vdash   \lambda ( \SGradymv{x}  :  \SGradynt{A_{{\mathrm{1}}}} ) .  \SGradynt{t_{{\mathrm{1}}}}   :  \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}} }
      \end{math}
    \end{center}
    In this case $\SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{2}}}}$ and $\SGradynt{t} =  \lambda ( \SGradymv{x}  :  \SGradynt{A_{{\mathrm{1}}}} ) .  \SGradynt{t_{{\mathrm{1}}}} $.  Suppose $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $ and $ \Gamma  \sqsubseteq  \Gamma' $.
    Then it must be the case that $\SGradynt{t'} =  \lambda ( \SGradymv{x}  :  \SGradynt{A_{{\mathrm{2}}}} ) .  \SGradynt{t_{{\mathrm{2}}}} $, $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t_{{\mathrm{2}}}} $, and $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A_{{\mathrm{2}}}} $.
    Since $ \Gamma  \sqsubseteq  \Gamma' $ and $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A_{{\mathrm{2}}}} $, then $ \SGradysym{(}  \Gamma  \SGradysym{,}  \SGradymv{x}  \SGradysym{:}  \SGradynt{A_{{\mathrm{1}}}}  \SGradysym{)}  \sqsubseteq  \SGradysym{(}  \Gamma'  \SGradysym{,}  \SGradymv{x}  \SGradysym{:}  \SGradynt{A_{{\mathrm{2}}}}  \SGradysym{)} $ by definition.
    Thus, by the induction hypothesis we know the following:
    \begin{center}
      \begin{tabular}{lll}
        $ \Gamma'  \SGradysym{,}  \SGradymv{x}  \SGradysym{:}  \SGradynt{A_{{\mathrm{2}}}}  \vdash  \SGradynt{t'_{{\mathrm{1}}}}  :  \SGradynt{B_{{\mathrm{2}}}} $ and $ \SGradynt{B_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{B_{{\mathrm{2}}}} $
      \end{tabular}
    \end{center} 
    Choose $\SGradynt{B} = \SGradynt{A_{{\mathrm{2}}}}  \rightarrow  \SGradynt{B_{{\mathrm{2}}}}$ and the result follows by reapplying the rule above
    and the fact that $ \SGradysym{(}  \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}}  \SGradysym{)}  \sqsubseteq  \SGradysym{(}  \SGradynt{A_{{\mathrm{2}}}}  \rightarrow  \SGradynt{B_{{\mathrm{2}}}}  \SGradysym{)} $.

  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleTXXtypeAppName{}$] {
            \Gamma  \vdash  \SGradynt{t_{{\mathrm{1}}}}  :   \forall ( \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{C_{{\mathrm{0}}}} ).  \SGradynt{C_{{\mathrm{2}}}}    \quad   \Gamma  \vdash  \SGradynt{C_{{\mathrm{1}}}}  \lesssim  \SGradynt{C_{{\mathrm{0}}}}  
        }{ \Gamma  \vdash   [  \SGradynt{C_{{\mathrm{1}}}}  ]  \SGradynt{t_{{\mathrm{1}}}}   :  \SGradysym{[}  \SGradynt{C_{{\mathrm{1}}}}  \SGradysym{/}  \SGradymv{X}  \SGradysym{]}  \SGradynt{C_{{\mathrm{2}}}} }
      \end{math}
    \end{center}
    In this case $\SGradynt{t} =  [  \SGradynt{C_{{\mathrm{1}}}}  ]  \SGradynt{t_{{\mathrm{1}}}} $.  Suppose $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $ and $ \Gamma  \sqsubseteq  \Gamma' $.
    Then it must be the case that $\SGradynt{t'} =  [  \SGradynt{C'_{{\mathrm{1}}}}  ]  \SGradynt{t_{{\mathrm{2}}}} $ such that $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t_{{\mathrm{2}}}} $
    and $ \SGradynt{C_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{C'_{{\mathrm{1}}}} $.  By the induction hypothesis:
    \begin{center}
      \begin{tabular}{lll}
        $ \Gamma'  \vdash  \SGradynt{t_{{\mathrm{2}}}}  :  \SGradynt{C} $ where $  \forall ( \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{C_{{\mathrm{0}}}} ).  \SGradynt{C_{{\mathrm{2}}}}   \sqsubseteq  \SGradynt{C} $
      \end{tabular}
    \end{center}
    Thus, it must be the case that $\SGradynt{C} =  \forall ( \SGradymv{X}  <\hspace{-2px}\colon  \SGradynt{C_{{\mathrm{0}}}} ).  \SGradynt{C'_{{\mathrm{2}}}} $ such that $ \SGradynt{C_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{C'_{{\mathrm{2}}}} $.
    By assumption we know that $ \Gamma  \vdash  \SGradynt{C_{{\mathrm{1}}}}  \lesssim  \SGradynt{C_{{\mathrm{0}}}} $ and $ \SGradynt{C_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{C'_{{\mathrm{1}}}} $, and thus,
    by Corollary~\ref{corollary:congruence_of_subtyping_along_type_precision} and Lemma~\ref{lemma:subtyping_context_precision}
    we know $ \Gamma'  \vdash  \SGradynt{C'_{{\mathrm{1}}}}  \lesssim  \SGradynt{C_{{\mathrm{0}}}} $.  Thus, choose $\SGradynt{B} = \SGradynt{C}$, and the result follows by reapplying
    the rule above, and the fact that $ \SGradynt{A}  \sqsubseteq  \SGradynt{C} $, because $ \SGradynt{C_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{C'_{{\mathrm{2}}}} $.

  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleTXXSubName{}$] {
            \Gamma  \vdash  \SGradynt{t}  :  \SGradynt{A'}   \quad   \Gamma  \vdash  \SGradynt{A'}  \lesssim  \SGradynt{A}  
        }{ \Gamma  \vdash  \SGradynt{t}  :  \SGradynt{A} }
      \end{math}
    \end{center}
    Suppose $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $ and $ \Gamma  \sqsubseteq  \Gamma' $.
    By the induction hypothesis we know that $ \Gamma'  \vdash  \SGradynt{t'}  :  \SGradynt{A''} $ for $ \SGradynt{A'}  \sqsubseteq  \SGradynt{A''} $.
    We know $ \SGradynt{A''}  \sqsubseteq  \SGradynt{A} $ or $ \SGradynt{A}  \sqsubseteq  \SGradynt{A''} $, because we know that $ \Gamma  \vdash  \SGradynt{A'}  \lesssim  \SGradynt{A} $
    and $ \SGradynt{A'}  \sqsubseteq  \SGradynt{A''} $.   Suppose $ \SGradynt{A''}  \sqsubseteq  \SGradynt{A} $, then by Corollary~\ref{corollary:type_precision_and_subtyping}
    $ \Gamma'  \vdash  \SGradynt{A''}  \lesssim  \SGradynt{A} $, and then by subsumption $ \Gamma'  \vdash  \SGradynt{t'}  :  \SGradynt{A} $, hence, choose $\SGradynt{B} = \SGradynt{A}$
    and the result follows.  If $ \SGradynt{A}  \sqsubseteq  \SGradynt{A''} $, then choose $\SGradynt{B} = \SGradynt{A''}$ and the result follows.

  \item[] Case.\ \\ 
    \begin{center}
      \begin{math}
        $$\mprset{flushleft}
        \inferrule* [right=$\SGradydruleTXXappName{}$] {
            \Gamma  \vdash  \SGradynt{t_{{\mathrm{1}}}}  :  \SGradynt{C}   \quad   \mathsf{fun}( \SGradynt{C} ) =  \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}}  
          \\\\
           \Gamma  \vdash  \SGradynt{t_{{\mathrm{2}}}}  :  \SGradynt{A_{{\mathrm{2}}}}   \quad   \Gamma  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \sim  \SGradynt{A_{{\mathrm{1}}}}  
        }{ \Gamma  \vdash  \SGradynt{t_{{\mathrm{1}}}} \, \SGradynt{t_{{\mathrm{2}}}}  :  \SGradynt{B_{{\mathrm{1}}}} }
      \end{math}
    \end{center}
    In this case $\SGradynt{A} = \SGradynt{B_{{\mathrm{1}}}}$ and $\SGradynt{t} = \SGradynt{t_{{\mathrm{1}}}} \, \SGradynt{t_{{\mathrm{2}}}}$.  Suppose $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $
    and $ \Gamma  \sqsubseteq  \Gamma' $.  The former implies that $\SGradynt{t'} = \SGradynt{t'_{{\mathrm{1}}}} \, \SGradynt{t'_{{\mathrm{2}}}}$ such that
    $ \SGradynt{t_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{1}}}} $ and $ \SGradynt{t_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{t'_{{\mathrm{2}}}} $.  By the induction hypothesis we know the
    following:
    \begin{center}
      \begin{tabular}{lll}
        $ \Gamma'  \vdash  \SGradynt{t'_{{\mathrm{1}}}}  :  \SGradynt{C'} $ for $ \SGradynt{C}  \sqsubseteq  \SGradynt{C'} $\\
        $ \Gamma'  \vdash  \SGradynt{t'_{{\mathrm{2}}}}  :  \SGradynt{A'_{{\mathrm{2}}}} $ for $ \SGradynt{A_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{2}}}} $\\
      \end{tabular}
    \end{center}
    We know by assumption that $ \Gamma  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \sim  \SGradynt{A_{{\mathrm{1}}}} $ and hence $ \Gamma'  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \sim  \SGradynt{A_{{\mathrm{1}}}} $
    because bounds on type variables are left unchanged by context precision.
    Since $ \SGradynt{C}  \sqsubseteq  \SGradynt{C'} $ and $ \mathsf{fun}( \SGradynt{C} ) =  \SGradynt{A_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B_{{\mathrm{1}}}} $, then $ \mathsf{fun}( \SGradynt{C'} ) =  \SGradynt{A'_{{\mathrm{1}}}}  \rightarrow  \SGradynt{B'_{{\mathrm{1}}}} $
    where $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{1}}}} $ and $ \SGradynt{B_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{B'_{{\mathrm{1}}}} $ by Lemma~\ref{lemma:fun_type_pre}.
    Furthermore, we know $ \Gamma'  \vdash  \SGradynt{A_{{\mathrm{2}}}}  \sim  \SGradynt{A_{{\mathrm{1}}}} $ and $ \SGradynt{A_{{\mathrm{2}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{2}}}} $ and $ \SGradynt{A_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{A'_{{\mathrm{1}}}} $, then
    we know $ \Gamma'  \vdash  \SGradynt{A'_{{\mathrm{2}}}}  \sim  \SGradynt{A'_{{\mathrm{1}}}} $ by Corollary~\ref{corollary:congruence_of_type_consistency_along_type_precision}.
    So choose $\SGradynt{B} = \SGradynt{B'_{{\mathrm{1}}}}$. Then reapply the rule above and the result follows, because
    $ \SGradynt{B_{{\mathrm{1}}}}  \sqsubseteq  \SGradynt{B'_{{\mathrm{1}}}} $.
  \end{itemize}
\end{proof}

\begin{theorem}[Gradual Guarantee]
  \label{thm:gradual_guarantee}
  Suppose $  \cdot   \vdash  \SGradynt{t}  :  \SGradynt{A} $ and $ \SGradynt{t}  \sqsubseteq  \SGradynt{t'} $.  Then
  \begin{enumR}
  \item $  \cdot   \vdash  \SGradynt{t'}  :  \SGradynt{B} $ and $ \SGradynt{A}  \sqsubseteq  \SGradynt{B} $,
  \item if $ \SGradynt{t}  \rightsquigarrow^*  \SGradynt{v} $, then $ \SGradynt{t'}  \rightsquigarrow^*  \SGradynt{v'} $ and $ \SGradynt{v}  \sqsubseteq  \SGradynt{v'} $,
  \item if $ \SGradynt{t}  \uparrow $, then $ \SGradynt{t'}  \uparrow $,
  \item if $ \SGradynt{t'}  \rightsquigarrow^*  \SGradynt{v'} $, then $ \SGradynt{t}  \rightsquigarrow^*  \SGradynt{v} $ where $ \SGradynt{v}  \sqsubseteq  \SGradynt{v'} $, or $[[t ~>* error]]$, and
  \item if $ \SGradynt{t'}  \uparrow $, then $ \SGradynt{t}  \uparrow $ or $[[t ~>* error]]$.
  \end{enumR}
\end{theorem}
\begin{proof}
  
\end{proof}

%%% Local Variables: ***
%%% mode:latex ***
%%% TeX-master: "main.tex"  ***
%%% End: ***
